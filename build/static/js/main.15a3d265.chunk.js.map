{"version":3,"sources":["Components/Sphere2.tsx","Components/ColorShow.tsx","context/viewportContext.tsx","Components/Email.tsx","Components/MobileEmailForm.tsx","Components/MobileInstructions.tsx","Components/MobileAnimation2.tsx","Components/MobileApp.tsx","Components/DesktopText.tsx","hooks/useDidUpdate.tsx","Components/DesktopOrb3.tsx","Components/DesktopInstructions.tsx","Components/DesktopEmailForm.tsx","Components/DesktopApp.tsx","App.tsx","serviceWorker.ts","context/index.tsx","index.tsx"],"names":["Sphere","radius","sphereState","setSphereState","breakPoint","setEmailVisible","setColorShowActive","setInstructionsState","sphereRef","useRef","useThree","camera","size","defaultPointSize","inPosition","outPosition","height","hemisphereRef","useFrame","current","rotation","y","setPosition","useCallback","mountAnimating","hold","pointerUpHandler","position","z","prev","direction","vertices","useMemo","computedVertices","i","theta","THREE","randFloatSpread","phi","x","Math","sin","cos","push","map","v","sphereAnimationProps","useSpring","config","mass","tension","friction","clamp","pointsPosition","opacity","onFrame","arg","visible","onRest","every","index","useEffect","material","tan","PI","fov","lookAt","mesh","ref","onPointerDown","onPointerUp","circlePosition","attach","args","transparent","side","DoubleSide","points","pointsMaterial","color","ColorShow","chapterIndex","colorShowActive","setChapterIndex","darkMode","container","useState","transitioning","setTransitioning","initialized","setInitialized","xStart","yStart","yTravel","xTravel","pointerState","setPointerState","backgroundColors","lightMode","arrowColors","backgroundColor","setBackgroundColor","arrowColor","setArrowColor","getActiveSlideIndex","active","slides","children","length","classList","contains","activeSlide","activeSlideTransitionTarget","nextSlide","nextSlideTransitionTarget","addEventListener","activeCb","remove","removeEventListener","nextCb","add","next","back","console","log","containerCb","setTimeout","reset","className","e","clientX","clientY","updated","pointerDownHandler","onPointerMove","pointerMoveHandler","style","background","transitionDelay","width","viewBox","fill","xmlns","fill-rule","clip-rule","d","defaultViewportContext","isMobile","window","innerWidth","isPortrait","matchMedia","matches","defaultDeviceHeight","defaultDeviceWidth","currentDeviceHeight","innerHeight","currentDeviceWidth","lockedViewportHeight","lockedViewportWidth","lockViewport","unlockViewport","ViewportContext","createContext","ViewportContextWrapper","props","viewport","document","querySelector","setIsMobile","setIsPortrait","setCurrentDeviceHeight","setCurrentDeviceWidth","setLockedViewportHeight","setLockedViewportWidth","mql","m","e1","addListener","e2","error","watchOrientationChanges","store","setAttribute","Provider","value","Email","success","setSuccess","email","setEmail","message","setMessage","processing","setProcessing","useContext","formRef","emailInputProps","borderBottom","duration","submitButtonProps","boxShadow","immediate","key","onSubmit","preventDefault","url","process","options","method","body","FormData","fetch","then","res","json","data","result","catch","input","name","type","placeholder","onChange","currentTarget","onFocus","onBlur","required","MobileEmailForm","emailVisible","setDarkMode","animationProps","bottom","includes","textProps","buttonProps","div","h5","button","onClick","MobileInstructions","instructionsState","instructionsRef","clickHandler","instructionsDivProps","instructionsTextProps","src","alt","p","Camera","aspect","setDefaultCamera","atan","cameraDistance","onUpdate","self","updateProjectionMatrix","MobileAnimation","scrollIndicatorPositions","scrollIndicatorPosition","setScrollIndicatorPosition","scrollIndicatorAnimate","top","MobileApp","DesktopText","wheelThreshold","setButtonShadow","setOrbMovingState","subscribeActive","chapterRefs","createRef","textTransitioning","setTextTransitioning","textAnimation","zIndex","forEach","chapter","func","deps","didUpdate","useDidUpdate","wheelHandler","event","deltaY","abs","onWheel","onTransitionEnd","Orb","pointerPosition","orbMovingState","resetPointer","setSubscribeActive","setEmailActive","setOrbHold","orbHold","setScrollIndicatorHeight","setInstructionPosition","setInstructionActive","orbRef","previousPosition","closestSide","subscribePosition","orbMask","orbMaskSphereBbox","rectPositions","textRef1","geometry","textRef2","textRef3","undefined","orbPositions","pre","start","orbPositionConfigs","resting","intersecting","out","to","in","subscribe","subscribe_hold","at_threshold","textBbox1","Box3","textBbox2","textBbox3","subscribeRef","subscribeBbox","orbScale","setOrbScale","orbPosition","setOrbPosition","isIntersecting","setIsIntersecting","orbOpacity","setOrbOpacity","getOrbPosition","currentPosition","coord","placeInstructions","center","project","match","autoRotateOrb","number","computeBoundingAreas","computeBoundingSphere","computeBoundingBox","updateOrbMaskSphereBboxRadius","boundingSphere","updateOrbMaskSphereBboxCenter","getClosestSide","distanceObj","left","right","min","getTranslatedPointerPosition","isSphereIntersectingBox","sphere","box","max","sqrt","moveOut","isOrbIntersecting","setFromObject","x1","currentX","percentage","scale","DesktopInstructions","instructionPosition","instructionActive","instructionProps","visibility","emailActive","inputFocus","setInputFocus","emailDiv","emailRef","emailDivProps","blur","focus","version","checkValidity","dispatchEvent","Event","id","stroke","stroke-width","transform","target","DesktopApp","buttonShadow","scrollIndicatorHeight","canvasViewport","setPointerPosition","containerRef","subscribeButtonProps","orthographic","near","far","shape-rendering","rel","href","App","Boolean","location","hostname","Store","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.15a3d265.chunk.js","sourcesContent":["import React, {\n\tFunctionComponent,\n\tuseRef,\n\tuseCallback,\n\tuseMemo,\n\tuseEffect,\n\t// useState,\n} from 'react';\nimport * as THREE from 'three/';\nimport { useFrame, useThree } from 'react-three-fiber';\nimport { useSpring, a } from 'react-spring/three'\nimport { DoubleSide } from 'three/';\n\ninterface SphereProps {\n\tradius: number,\n\t// setInstructionsVisible: React.Dispatch<React.SetStateAction<boolean>>,\n\tsetEmailVisible: React.Dispatch<React.SetStateAction<Boolean>>,\n\tsetInstructionsState: React.Dispatch<React.SetStateAction<{\n\t\tposition: 'up' | 'down';\n\t\tvisible: boolean;\n\t}>>\n\tsphereAnimationProps?: any,\n\tsetSphereState: React.Dispatch<React.SetStateAction<{\n\t\thold: boolean;\n\t\tdirection: null | 'forwards' | 'backwards';\n\t\tmountAnimating: boolean;\n\t}>>\n\tsphereState: {\n\t\thold: boolean,\n\t\tdirection: null | 'forwards' | 'backwards',\n\t\tmountAnimating: boolean\n\t},\n\tinPosition: [number, number, number],\n\toutPosition: [number, number, number],\n\tbreakPoint: number,\n\tsetColorShowActive: React.Dispatch<React.SetStateAction<boolean>>\n}\n\nexport const Sphere: FunctionComponent<SphereProps> = ({\n\tradius,\n\t// inPosition,\n\tsphereState,\n\tsetSphereState,\n\tbreakPoint,\n\t// outPosition,\n\tsetEmailVisible,\n\t// setInstructionsVisible,\n\tsetColorShowActive,\n\tsetInstructionsState\n}) => {\n\t/* \n\t\tTODO: \n\t\t\t-add responsive scaling for smaller and larger mobile viewports\n\t\t\t-responsive outPositions depending on viewport height\n\n\t\t\t-initial animation of ease into view:\n\t\t\t\t- start position \n\t\t\t\t- opacity fade in\n\t\t\t\t- orbLive ? --> fade and ease in to start position, \n\t*/ \n\tconst sphereRef = useRef<any>(null);\n\tconst {\n\t\tcamera,\n\t\t// camera: {\n\t\t// \tfov\n\t\t// },\n\t\t// viewport,\n\t\tsize,\n\t}: { camera: any, viewport: any, size: any } = useThree();\n\n\tconst defaultPointSize = useRef<number>(1.7);\n\tconst inPosition: [number, number, number] = [0, 0, 0];\n\tconst outPosition: [number, number, number] = [0, -size.height / 9, 626];\n\tconst hemisphereRef = useRef<THREE.Points | null>(null);\n\n\n\tuseFrame(() => {\n\t\tif (sphereRef.current) {\n\t\t\treturn sphereRef.current.rotation.y = sphereRef.current.rotation.y + 0.003\n\t\t}\n\t});\n\n\tconst setPosition = useCallback(() => {\n\t\tif (sphereState.mountAnimating) {\n\t\t\treturn outPosition\n\t\t} else {\n\t\t\tif (sphereState.hold) {\n\t\t\t\treturn outPosition\n\t\t\t} else {\n\t\t\t\treturn inPosition\n\t\t\t}\n\t\t}\n\t}, [inPosition, sphereState, outPosition])\n\n\tconst pointerUpHandler = useCallback(() => {\n\t\tif (sphereRef.current.position.z >= breakPoint) {\n\t\t\tsetSphereState(prev => {\n\t\t\t\tconst updated: typeof sphereState = {\n\t\t\t\t\thold: true,\n\t\t\t\t\tdirection: \"forwards\",\n\t\t\t\t\tmountAnimating: prev.mountAnimating\n\t\t\t\t}\n\t\t\t\treturn updated\n\t\t\t})\n\t\t} else {\n\t\t\tsetSphereState(prev => {\n\t\t\t\tconst updated: typeof sphereState = {\n\t\t\t\t\thold: false,\n\t\t\t\t\tdirection: \"backwards\",\n\t\t\t\t\tmountAnimating: prev.mountAnimating\n\t\t\t\t}\n\t\t\t\treturn updated\n\t\t\t})\n\t\t}\n\t}, [setSphereState, breakPoint, sphereState])\n\t\n\tconst vertices = useMemo(() => {\n\t\tconst computedVertices = [];\n\t\t\n\t\tfor (let i = 0; i < 1600; i++) {\n\n\t\t\tconst theta = THREE.MathUtils.randFloatSpread(360); \n\t\t\tconst phi = THREE.MathUtils.randFloatSpread(360);\n\t\t\t\n\t\t\tconst x = radius * Math.sin(theta) * Math.cos(phi);\n\t\t\tconst y = radius * Math.sin(theta) * Math.sin(phi);\n\t\t\tconst z = radius * Math.cos(theta);\n\n\t\t\tcomputedVertices.push([x, y, z]);\n\t\t}\n\t\treturn computedVertices.map(v => new THREE.Vector3(...v));\n\t}, [radius])\n\n\tconst sphereAnimationProps = useSpring({\n\t\tconfig: { mass: 1.8, tension: 84, friction: 22, clamp: true },\n\t\tpointsPosition: setPosition(),\n\t\topacity: sphereState.mountAnimating ? 0 : 1,\n\t\tonFrame: (arg: any) => {\n\t\t\tif (sphereRef.current.position.z > 0 && sphereRef.current.position.z < 20) {\n\t\t\t\tif (sphereState.direction === 'backwards') {\n\t\t\t\t\tsetInstructionsState(prev => ({ ...prev, visible: true}))\n\t\t\t\t} else {\n\t\t\t\t\tsetInstructionsState(prev => ({ ...prev, visible: false}))\n\t\t\t\t}\n\t\t\t} else if (sphereRef.current.position.z > 20 && sphereRef.current.position.z < 50) {\n\t\t\t\tif (sphereState.direction === 'backwards') {\n\t\t\t\t\tsetEmailVisible(() => true);\n\t\t\t\t} else {\n\t\t\t\t\tsetEmailVisible(() => false)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonRest: (arg: any) => {\n\t\t\tif (outPosition.every((position: number, index: number) => {\n\t\t\t\tif (!sphereState.mountAnimating) {\n\t\t\t\t\tif (index === 0) {\n\t\t\t\t\t\treturn sphereRef.current.position.x === position\n\t\t\t\t\t} else if (index === 1) {\n\t\t\t\t\t\treturn sphereRef.current.position.y === position\n\t\t\t\t\t} else if (index === 2) {\n\t\t\t\t\t\treturn sphereRef.current.position.z === position\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t}) && sphereState.direction === 'forwards') {\n\t\t\t\tsetColorShowActive((prev) => prev ? prev : true);\n\t\t\t\tsetSphereState((prev) => {\n\t\t\t\t\treturn { ...prev, direction: 'backwards'}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t})\n\n\tuseEffect(() => {\n\t\tif (size.height && camera) {\n\t\t\tsphereRef.current.material.size = defaultPointSize.current / Math.tan( ( Math.PI / 180 ) * camera.fov / 2 )\n\t\t\tcamera.lookAt(0, (-size.height / 6.5), 0);\n\t\t}\n\t}, [size, camera])\n\n\tuseEffect(() => {\n\t\tsetSphereState(prev => {\n\t\t\tif (prev.mountAnimating) {\n\t\t\t\treturn {\n\t\t\t\t\t...prev,\n\t\t\t\t\tmountAnimating: false\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn prev\n\t\t\t}\n\t\t})\n\t}, [setSphereState])\n\n\t\n\treturn (\n\t\t<group>\n\t\t\t<a.mesh\n\t\t\t\trotation={[-Math.PI / 2, 0, 0]}\n\t\t\t\tref={hemisphereRef}\n\t\t\t\tonPointerDown={() => setSphereState(prev => {\n\t\t\t\t\tconst updated: typeof sphereState = {\n\t\t\t\t\t\thold: true,\n\t\t\t\t\t\tdirection: \"forwards\",\n\t\t\t\t\t\tmountAnimating: prev.mountAnimating\n\t\t\t\t\t}\n\t\t\t\t\treturn updated\n\t\t\t\t})}\n\t\t\t\tonPointerUp={() => pointerUpHandler()}\n\t\t\t\tposition={sphereAnimationProps.circlePosition}\n\t\t\t>\n\t\t\t\t<sphereBufferGeometry\n\t\t\t\t\tattach='geometry'\n\t\t\t\t\targs={[130, 32, 32, 0, 2*Math.PI, 0, 0.7 * Math.PI]}\n\t\t\t\t/>\n\t\t\t\t<meshBasicMaterial attach='material' transparent={true} opacity={0} side={DoubleSide} />\n\t\t\t</a.mesh>\n\t\t\t<a.points \n\t\t\t\tref={sphereRef}\n\t\t\t\t// ref={sphereRef}\n\t\t\t\tposition={sphereAnimationProps.pointsPosition}\n\t\t\t\t// scale={[1,1,1]}\n\t\t\t>\t\n\t\t\t\t<geometry\n\t\t\t\t\tattach='geometry'\n\t\t\t\t\tvertices={vertices}\n\t\t\t\t/>\n\t\t\t\t<a.pointsMaterial\n\t\t\t\t\tattach='material'\n\t\t\t\t\tcolor={new THREE.Color(0xCC37CC)}\n\t\t\t\t\tsize={1.7}\n\t\t\t\t\topacity={sphereAnimationProps.opacity}\n\t\t\t\t/>\n\t\t\t</a.points>\n\t\t</group>\n\t)\n}","import React, {\n\tFunctionComponent,\n\tPointerEvent,\n\t// TouchEvent,\n\t// useCallback,\n\tuseEffect,\n\tuseRef,\n\tuseState\n} from 'react';\n\n// controlling overflowed span components\n// on chapter change -- animate to next \n\n// const isElementAtBottom = (e: HTMLDivElement) => {\n// \treturn e.scrollTop === (e.scrollHeight - e.offsetHeight);\n// }\n\ninterface ColorShowProps {\n\tchapterIndex: number,\n\tcolorShowActive: boolean,\n\tsetColorShowActive: React.Dispatch<React.SetStateAction<boolean>>\n\tsetChapterIndex: React.Dispatch<React.SetStateAction<number>>\n\tsetSphereState: React.Dispatch<React.SetStateAction<{\n\t\thold: boolean;\n\t\tdirection: null | 'forwards' | 'backwards';\n\t\tmountAnimating: boolean;\n\t}>>\n\tdarkMode: Boolean\n}\n\nexport const ColorShow: FunctionComponent<ColorShowProps> = ({\n\tchapterIndex,\n\tcolorShowActive,\n\tsetColorShowActive,\n\tsetChapterIndex,\n\tsetSphereState,\n\tdarkMode\n}) => {\n\tconst container = useRef<HTMLDivElement>(null);\n\t// let [preventTouch, setPreventTouch] = useState<boolean>(false);\n\tlet [transitioning, setTransitioning] = useState<boolean>(false);\n\tlet [initialized, setInitialized] = useState<boolean>(false);\n\tlet [pointerState, setPointerState] = useState<any>({\n\t\txStart: null,\n\t\tyStart: null,\n\t\tyTravel: null,\n\t\txTravel: null,\n\t})\n\t// console.log(container.current ? isElementAtBottom(container.current) : null)\n\tconst backgroundColors = useRef<any>({\n\t\tlightMode: ['#E4F0FA', '#D64773', '#CBCBCB', '#000000'],\n\t\tdarkMode: ['#000000', '#D64773', '#E4F0FA', '#F9FAFC']\n\t})\n\n\tconst arrowColors = useRef<any>({\n\t\tlightMode: ['#6E81A0', '#FFFFFF', '#D64773', '#CBCBCB'],\n\t\tdarkMode: ['#6E81A0', '#000000', '#D64773', '#009CDF']\n\t})\n\n\tlet [backgroundColor, setBackgroundColor] = useState<string>(backgroundColors.current.lightMode[chapterIndex]);\n\tlet [arrowColor, setArrowColor] = useState<string>(arrowColors.current.lightMode[chapterIndex])\n\n\tconst getActiveSlideIndex = (): number => {\n\t\tif (container.current) {\n\t\t\tlet active = -1;\n\t\t\tconst slides = container.current.children;\n\t\t\tfor (let i = 0; i < slides.length; i++) {\n\t\t\t\tif (!slides[i].classList.contains('out-down') && !slides[i].classList.contains('out-up')) {\n\t\t\t\t\tactive = i\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn active\n\t\t}\n\t\treturn -1\n\t}\n\n\tconst pointerDownHandler = (e: PointerEvent) => {\n\t\tconst {\n\t\t\tclientX,\n\t\t\tclientY,\n\t\t} = e\n\t\tsetPointerState((prev: any) => {\n\t\t\tconst updated = {\n\t\t\t\txStart: clientX,\n\t\t\t\tyStart: clientY,\n\t\t\t}\n\t\t\treturn { ...prev, ...updated}\n\t\t})\n\t}\n\n\tconst pointerMoveHandler = (e: PointerEvent) => {\n\t\tconst {\n\t\t\tclientX,\n\t\t\tclientY,\n\t\t} = e\n\t\tsetPointerState((prev: any) => {\n\t\t\tconst yTravel = prev.yStart ? prev.yStart - clientY : null;\n\t\t\tconst xTravel = prev.xStart ? clientX - prev.xStart : null;\n\t\t\treturn { ...prev, yTravel, xTravel }\n\t\t})\n\t}\n\n\t// const pointerDownHandler = (e: TouchEvent) => {\n\t// \tconst {\n\t// \t\ttouches\n\t// \t} = e\n\t// \tconst {\n\t// \t\tclientY,\n\t// \t\tclientX\n\t// \t} = touches[0]\n\t// \tsetPointerState((prev: any) => {\n\t// \t\tconst updated = {\n\t// \t\t\txStart: clientX,\n\t// \t\t\tyStart: clientY,\n\t// \t\t}\n\t// \t\treturn { ...prev, ...updated}\n\t// \t})\n\t// }\n\n\t// const pointerMoveHandler = (e: TouchEvent) => {\n\t// \tconst {\n\t// \t\ttouches\n\t// \t} = e\n\t// \tconst {\n\t// \t\tclientY,\n\t// \t\tclientX\n\t// \t} = touches[0]\n\t// \tsetPointerState((prev: any) => {\n\t// \t\tconst yTravel = prev.yStart ? prev.yStart - clientY : null;\n\t// \t\tconst xTravel = prev.xStart ? clientX - prev.xStart : null;\n\t// \t\treturn { ...prev, yTravel, xTravel }\n\t// \t})\n\t// }\n\n\tconst pointerUpHandler = () => {\n\t\tsetPointerState(() => ({\n\t\t\txTravel: null,\n\t\t\tyTravel: null,\n\t\t\txStart: null,\n\t\t\tyStart: null,\n\t\t}))\n\t}\n\n\t// const resizeHandler = () => {\n\t// \tsetPreventTouch((prev) => {\n\t// \t\tif (container.current) {\n\t// \t\t\tif (container.current.clientHeight === window.innerHeight) {\n\t// \t\t\t\treturn true\n\t// \t\t\t} else {\n\t// \t\t\t\treturn false\n\t// \t\t\t}\n\t// \t\t}\n\t// \t\treturn prev\n\t// \t})\n\t// }\n\n\tuseEffect(() => {\n\t\tconst next = () => {\n\t\t\tif (container.current) {\n\t\t\t\tconst active = getActiveSlideIndex();\n\t\t\t\tif (active >= 0 && active < container.current.children.length - 2) {\n\t\t\t\t\tsetTransitioning(() => true);\n\t\t\t\t\tconst activeSlide = container.current.children[active]\n\t\t\t\t\tconst activeSlideLastSpan = activeSlide.children[activeSlide.children.length - 1];\n\t\t\t\t\tconst activeSlideTransitionTarget = activeSlideLastSpan.children[0];\n\t\t\t\t\t\n\t\t\t\t\tconst nextSlide = container.current.children[chapterIndex];\n\t\t\t\t\tconst nextSlideLastSpan = nextSlide.children[nextSlide.children.length - 1];\n\t\t\t\t\tconst nextSlideTransitionTarget = nextSlideLastSpan.children[0]\n\t\t\t\t\t\n\t\t\t\t\t// Because of transitionDelay\n\t\t\t\t\tconst activeCb = () => {\n\t\t\t\t\t\t// change background color -- account for dark mode\n\t\t\t\t\t\tnextSlide.classList.remove('out-down');\n\t\t\t\t\t\tsetBackgroundColor((prev) => {\n\t\t\t\t\t\t\tif (darkMode) {\n\t\t\t\t\t\t\t\treturn backgroundColors.current.darkMode[chapterIndex]\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn backgroundColors.current.lightMode[chapterIndex]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tsetArrowColor(() => {\n\t\t\t\t\t\t\tif (darkMode) {\n\t\t\t\t\t\t\t\treturn arrowColors.current.darkMode[chapterIndex]\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn arrowColors.current.lightMode[chapterIndex]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tactiveSlideTransitionTarget.removeEventListener('transitionend', activeCb);\n\t\t\t\t\t}\n\t\t\t\t\tactiveSlideTransitionTarget.addEventListener('transitionend', activeCb);\n\n\t\t\t\t\tconst nextCb = () => {\n\t\t\t\t\t\tsetTransitioning(() => false);\n\t\t\t\t\t\tnextSlideTransitionTarget.removeEventListener('transitionend', nextCb);\n\t\t\t\t\t}\n\t\t\t\t\tnextSlideTransitionTarget.addEventListener('transitionend', nextCb);\n\t\t\t\t\t\n\t\t\t\t\tactiveSlide.classList.add('out-up');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst back = () => {\n\t\t\tif (container.current) {\n\t\t\t\tconst active = getActiveSlideIndex();\n\t\t\t\tif (active > 0) {\n\t\t\t\t\tsetTransitioning(() => true);\n\t\t\t\t\tconst activeSlide = container.current.children[active]\n\t\t\t\t\tconst activeSlideLastSpan = activeSlide.children[activeSlide.children.length - 1];\n\t\t\t\t\tconst activeSlideTransitionTarget = activeSlideLastSpan.children[0];\n\t\t\t\t\t\n\t\t\t\t\tconst nextSlide = container.current.children[chapterIndex];\n\t\t\t\t\tconst nextSlideLastSpan = nextSlide.children[nextSlide.children.length - 1];\n\t\t\t\t\tconst nextSlideTransitionTarget = nextSlideLastSpan.children[0]\n\t\t\t\t\t\n\t\t\t\t\t// Because of transitionDelay\n\t\t\t\t\tconst activeCb = () => {\n\t\t\t\t\t\tnextSlide.classList.remove('out-up');\n\t\t\t\t\t\tsetBackgroundColor((prev) => {\n\t\t\t\t\t\t\tif (darkMode) {\n\t\t\t\t\t\t\t\treturn backgroundColors.current.darkMode[chapterIndex]\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn backgroundColors.current.lightMode[chapterIndex]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tsetArrowColor(() => {\n\t\t\t\t\t\t\tif (darkMode) {\n\t\t\t\t\t\t\t\treturn arrowColors.current.darkMode[chapterIndex]\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn arrowColors.current.lightMode[chapterIndex]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tactiveSlideTransitionTarget.removeEventListener('transitionend', activeCb);\n\t\t\t\t\t}\n\t\t\t\t\tactiveSlideTransitionTarget.addEventListener('transitionend', activeCb);\n\n\t\t\t\t\tconst nextCb = () => {\n\t\t\t\t\t\tsetTransitioning(() => false);\n\t\t\t\t\t\tnextSlideTransitionTarget.removeEventListener('transitionend', nextCb);\n\t\t\t\t\t}\n\t\t\t\t\tnextSlideTransitionTarget.addEventListener('transitionend', nextCb);\n\t\t\t\t\t\n\t\t\t\t\tactiveSlide.classList.add('out-down');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (chapterIndex >= 0 && colorShowActive && initialized) {\n\t\t\t// setPreventTouch((prev) => {\n\t\t\t// \tif (container.current) {\n\t\t\t// \t\t// console.\n\t\t\t// \t\tif (container.current.clientHeight === window.innerHeight) {\n\t\t\t// \t\t\treturn true\n\t\t\t// \t\t} else {\n\t\t\t// \t\t\treturn false\n\t\t\t// \t\t}\n\t\t\t// \t}\n\t\t\t// \treturn prev\n\t\t\t// })\n\t\t\tif (getActiveSlideIndex() < chapterIndex) {\n\t\t\t\tnext();\n\t\t\t\t// setPreventTouch(() => true)\n\t\t\t} else if (getActiveSlideIndex() > chapterIndex) {\n\t\t\t\tback();\n\t\t\t}\n\t\t}\n\t}, [chapterIndex, colorShowActive, initialized, darkMode])\n\n\tuseEffect(() => {\n\t\tif (darkMode && !initialized) {\n\t\t\tsetBackgroundColor(() => backgroundColors.current.darkMode[0])\n\t\t} else if (!darkMode && !initialized) {\n\t\t\tsetBackgroundColor(() => backgroundColors.current.lightMode[0])\n\t\t}\n\t}, [darkMode, initialized])\n\n\t// useEffect(() => {\n\t// \twindow.addEventListener('resize', resizeHandler);\n\t// \treturn () => window.removeEventListener('resize', resizeHandler);\n\t// }, [])\n\t\n\tuseEffect(() => {\n\t\tconst reset = () => {\n\t\t\tif (container.current) {\n\t\t\t\t// console.log(colorShowActive);\n\t\t\t\tsetTransitioning(() => true);\n\t\t\t\tconst active = getActiveSlideIndex();\n\t\t\t\tconst activeSlide = container.current.children[active]\n\t\t\t\tconst activeSlideLastSpan = activeSlide.children[activeSlide.children.length - 1];\n\t\t\t\tconst activeSlideTransitionTarget = activeSlideLastSpan.children[0];\n\n\t\t\t\tlet containerCb = () => {\n\t\t\t\t\tif (container.current) {\n\t\t\t\t\t\tsetSphereState(prev => {\n\t\t\t\t\t\t\tconst updated: any = {\n\t\t\t\t\t\t\t\thold: false,\n\t\t\t\t\t\t\t\tdirection: \"backwards\",\n\t\t\t\t\t\t\t\tmountAnimating: prev.mountAnimating\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn updated\n\t\t\t\t\t\t})\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tif (container.current) {\n\t\t\t\t\t\t\t\tfor (let i = 0; i < container.current.children.length - 1; i++) {\n\t\t\t\t\t\t\t\t\tcontainer.current.children[i].classList.remove('out-up');\n\t\t\t\t\t\t\t\t\tcontainer.current.children[i].classList.add('out-down');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsetChapterIndex(() => 0)\n\t\t\t\t\t\t\t\tsetBackgroundColor((prev) => {\n\t\t\t\t\t\t\t\t\tif (darkMode) {\n\t\t\t\t\t\t\t\t\t\treturn backgroundColors.current.darkMode[0]\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn backgroundColors.current.lightMode[0]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tsetArrowColor(() => {\n\t\t\t\t\t\t\t\t\tif (darkMode) {\n\t\t\t\t\t\t\t\t\t\treturn arrowColors.current.darkMode[0]\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn arrowColors.current.lightMode[0]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t// setPreventTouch(() => false)\n\t\t\t\t\t\t\t\tsetInitialized(() => false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 1000)\n\t\t\t\t\t\tcontainer.current.removeEventListener('transitionend', containerCb);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontainer.current.addEventListener('transitionend', containerCb);\n\n\t\t\t\tlet activeCb = () => {\n\t\t\t\t\tif (container.current) {\t\n\t\t\t\t\t\tsetTransitioning(() => false);\n\t\t\t\t\t\tcontainer.current.classList.remove('active');\n\t\t\t\t\t\tactiveSlideTransitionTarget.removeEventListener('transitionend', activeCb);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tactiveSlideTransitionTarget.addEventListener('transitionend', activeCb);\n\n\t\t\t\tif (active === 0) {\n\t\t\t\t\tactiveSlide.classList.add('out-down');\n\t\t\t\t} else {\n\t\t\t\t\tactiveSlide.classList.add('out-up');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tconst init = () => {\n\t\t\tif (container.current) {\n\t\t\t\tcontainer.current.classList.add('active');\n\t\t\t\tcontainer.current.children[0].classList.remove('out-down');\n\t\t\t\tsetInitialized(() => true);\n\t\t\t}\n\t\t}\n\n\t\tif (colorShowActive && !initialized) {\n\t\t\tconsole.log('init')\n\t\t\tinit();\n\t\t} else if (!colorShowActive && initialized) {\n\t\t\treset();\n\t\t}\n\t}, [colorShowActive, initialized, setSphereState, setChapterIndex, darkMode])\n\n\tuseEffect(() => {\n\t\tif (pointerState.yTravel > 0 && pointerState.yTravel >= 100) {\n\t\t\tsetChapterIndex(prev => {\n\t\t\t\tif (container.current) {\n\t\t\t\t\tif (prev < container.current.children.length - 2 && !transitioning) {\n\t\t\t\t\t\treturn prev + 1\n\t\t\t\t\t} else if (prev === container.current.children.length -  2) {\n\t\t\t\t\t\tsetColorShowActive(() => false)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn prev\n\t\t\t})\n\t\t\tsetPointerState(() => ({\n\t\t\t\txTravel: null,\n\t\t\t\tyTravel: null,\n\t\t\t\txStart: null,\n\t\t\t\tyStart: null,\n\t\t\t}))\n\t\t} else if (pointerState.yTravel < 0 && pointerState.yTravel <= -100) {\n\t\t\tsetChapterIndex(prev => {\n\t\t\t\tif (container.current && !transitioning) {\n\t\t\t\t\tif (prev > 0) {\n\t\t\t\t\t\treturn prev - 1\n\t\t\t\t\t} else if (prev === 0) {\n\t\t\t\t\t\tsetColorShowActive(() => false)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn prev\n\t\t\t})\n\t\t\tsetPointerState(() => ({\n\t\t\t\txTravel: null,\n\t\t\t\tyTravel: null,\n\t\t\t\txStart: null,\n\t\t\t\tyStart: null,\n\t\t\t}))\n\t\t}\n\t}, [pointerState, setChapterIndex, transitioning, setColorShowActive])\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"ColorShow grid\"\n\t\t\tref={container}\n\t\t\tonPointerDown={(e: PointerEvent) => pointerDownHandler(e)}\n\t\t\tonPointerMove={(e: PointerEvent) => pointerMoveHandler(e)}\n\t\t\tonPointerUp={() => pointerUpHandler()}\n\t\t\t// onTouchStart={(e: TouchEvent) => pointerDownHandler(e)}\n\t\t\t// onTouchMove={(e: TouchEvent) => pointerMoveHandler(e)}\n\t\t\t// onTouchEnd={() => pointerUpHandler()}\n\t\t\tstyle={{\n\t\t\t\tbackground: backgroundColor,\n\t\t\t\t// touchAction: preventTouch ? 'none' : 'auto'\n\t\t\t}}\n\t\t>\n\t\t\t<div className=\"ColorShowText out-down\" style={{ color: darkMode ? '#E066DB' : '#334669'}}>\n\t\t\t\t<span>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<h4>The most dangerous phrase</h4>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<span>\n\t\t\t\t\t<span style={{ transitionDelay: '0.05s'}}>\n\t\t\t\t\t\t<h4>in language is 'It's always</h4>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<span>\n\t\t\t\t\t<span style={{ transitionDelay: '0.1s'}}>\n\t\t\t\t\t\t<h4>been done that way'\"</h4>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<span>\n\t\t\t\t\t<span style={{ transitionDelay: '0.15s'}}>\n\t\t\t\t\t\t<p style={{ color: darkMode ? '#FFFFFF' : '#334669'}}>Admiral Grace Hopper</p>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div className=\"ColorShowText out-down\" style={{ color: darkMode ? '#000000' : '#FFFFFF'}}>\n\t\t\t\t<span>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<h4>Andy Mag is an experiential</h4>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<span>\n\t\t\t\t\t<span style={{ transitionDelay: '0.05s'}}>\n\t\t\t\t\t\t<h4>magazine that enables</h4>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<span>\n\t\t\t\t\t<span style={{ transitionDelay: '0.1s'}}>\n\t\t\t\t\t\t<h4>readers to interact (engage)</h4>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<span>\n\t\t\t\t\t<span style={{ transitionDelay: '0.15s'}}>\n\t\t\t\t\t\t<h4>with diverse themes and </h4>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<span>\n\t\t\t\t\t<span style={{ transitionDelay: '0.2s'}}>\n\t\t\t\t\t\t<h4>ideas.</h4>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div className=\"ColorShowText out-down\" style={{ color: '#D64773'}}>\n\t\t\t\t<span>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<h4>Because a great story is</h4>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<span>\n\t\t\t\t\t<span style={{ transitionDelay: '0.05s'}}>\n\t\t\t\t\t\t<h4>worth remembering.</h4>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div className=\"ColorShowText out-down\" style={{ color: darkMode ? '#009CDF' : '#CBCBCB'}}>\n\t\t\t\t<span>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<h4>Subscribe to Andy Mag for</h4>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<span>\n\t\t\t\t\t<span style={{ transitionDelay: '0.05s'}}>\n\t\t\t\t\t<h4>updates.</h4>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"Arrows\"\n\t\t\t\tstyle={{ opacity: colorShowActive ? 1 : 0 }}\n\t\t\t>\n\t\t\t\t<svg width=\"12\" height=\"8\" viewBox=\"0 0 12 8\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.3691 6.74592C11.757 6.35382 11.7536 5.72383 11.3615 5.33594L6.74686 0.770747C6.35477 0.382855 5.72478 0.386251 5.33688 0.778347L0.771692 5.39302C0.3838 5.78512 0.387195 6.41511 0.779292 6.803C1.17139 7.19089 1.80138 7.1875 2.18927 6.7954L6.0583 2.89449L9.95916 6.75352C10.3513 7.14141 10.9912 7.12796 11.3691 6.74592Z\" fill={arrowColor}/>\n\t\t\t\t</svg>\n\t\t\t\t<svg width=\"12\" height=\"8\" viewBox=\"0 0 12 8\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.3691 6.74592C11.757 6.35382 11.7536 5.72383 11.3615 5.33594L6.74686 0.770747C6.35477 0.382855 5.72478 0.386251 5.33688 0.778347L0.771692 5.39302C0.3838 5.78512 0.387195 6.41511 0.779292 6.803C1.17139 7.19089 1.80138 7.1875 2.18927 6.7954L6.0583 2.89449L9.95916 6.75352C10.3513 7.14141 10.9912 7.12796 11.3691 6.74592Z\" fill={arrowColor} />\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t</div>\n\t)\n}","import React, {\n\tcreateContext,\n\tFunctionComponent,\n\tuseState,\n\t// Dispatch,\n\t// SetStateAction,\n\tuseEffect,\n\tuseRef,\n} from 'react';\n\ntype ViewportContextType = {\n\tisMobile: boolean,\n\n\t// orientation: 'portrait' | 'landscape' | null,\n\tisPortrait: boolean\n\n\tdefaultDeviceHeight: null,\n\tdefaultDeviceWidth: 'device-width',\n\n\tlockedViewportHeight: null | number,\n\tlockedViewportWidth: null | number,\n\n\tcurrentDeviceHeight: number,\n\tcurrentDeviceWidth: number,\n\n\tlockViewport: () => [ViewportContextType['currentDeviceHeight'], ViewportContextType['currentDeviceWidth']] | null,\n\tunlockViewport: () => void,\n\t// lockViewport: (currentDeviceHeight: ViewportContextType['currentDeviceHeight'], currentDeviceWidth: ViewportContextType['currentDeviceWidth']) => void\n\t// unlockViewport: (defaultDeviceHeight: ViewportContextType['defaultDeviceHeight'], defaultDeviceWidth: ViewportContextType['defaultDeviceWidth']) => void\n\t// setOrientation: Dispatch<SetStateAction<ViewportContextType['orientation']>>,\n\t// setCurrentDeviceHeight: Dispatch<SetStateAction<ViewportContextType['currentDeviceHeight']>>,\n\t// setCurrentDeviceWidth: Dispatch<SetStateAction<ViewportContextType['currentDeviceWidth']>>,\n\t// setIsMobile: Dispatch<SetStateAction<ViewportContextType['isMobile']>\n}\n\nconst defaultViewportContext: ViewportContextType = {\n\t// window\n\n\tisMobile: window.innerWidth <= 900,\n\n\tisPortrait: window.matchMedia(\"(orientation: portrait)\").matches,\n\t\n\tdefaultDeviceHeight: null,\n\tdefaultDeviceWidth: \"device-width\",\n\n\tcurrentDeviceHeight: window.innerHeight,\n\tcurrentDeviceWidth: window.innerWidth,\n\n\tlockedViewportHeight: null,\n\tlockedViewportWidth: null,\n\n\tlockViewport: () => null,\n\tunlockViewport: () => null,\n\n\t// setOrientation: () => null,\n\t// setCurrentDeviceWidth: () => null,\n\t// setCurrentDeviceHeight: () => null,\n\t// setIsMobile: () => null,\n}\n\nexport const ViewportContext = createContext<ViewportContextType>(defaultViewportContext);\n\nexport const ViewportContextWrapper: FunctionComponent = (props) => {\n\tconst viewport = useRef(document.querySelector(\"meta[name=viewport]\"));\n\n\tlet [isMobile, setIsMobile] = useState<ViewportContextType['isMobile']>(defaultViewportContext.isMobile);\n\tlet [isPortrait, setIsPortrait] = useState<ViewportContextType['isMobile']>(defaultViewportContext.isPortrait);\n\t// let [orientation, setOrientation] = useState<ViewportContextType['orientation']>(defaultViewportContext.orientation);\n\tlet [currentDeviceHeight, setCurrentDeviceHeight] = useState<ViewportContextType['currentDeviceHeight']>(defaultViewportContext.currentDeviceHeight);\n\tlet [currentDeviceWidth, setCurrentDeviceWidth] = useState<ViewportContextType['currentDeviceWidth']>(defaultViewportContext.currentDeviceWidth);\n\tlet [lockedViewportHeight, setLockedViewportHeight] = useState<ViewportContextType['lockedViewportHeight']>(defaultViewportContext.lockedViewportHeight);\n\tlet [lockedViewportWidth, setLockedViewportWidth] = useState<ViewportContextType['lockedViewportWidth']>(defaultViewportContext.lockedViewportWidth)\n\t\n\tconst unlockViewport:ViewportContextType['unlockViewport'] = () => {\n\t\tif (viewport.current) {\n\t\t\tviewport.current.setAttribute('content', `width=${defaultViewportContext.defaultDeviceWidth}, initial-scale=1`)\n\t\t\tsetLockedViewportHeight(() => null);\n\t\t\tsetLockedViewportWidth(() => null);\n\t\t}\n\t}\n\n\tconst lockViewport:ViewportContextType['lockViewport'] = () => {\n\t\tif (viewport.current) {\n\t\t\tviewport.current.setAttribute('content', `width=${currentDeviceWidth}, height=${currentDeviceHeight}, initital-scale=1`)\n\t\t\tsetLockedViewportHeight(() => currentDeviceHeight);\n\t\t\tsetLockedViewportWidth(() => currentDeviceWidth)\n\t\t}\n\t\treturn null\n\t}\n\n\tuseEffect(() => {\n\t\tconst watchOrientationChanges = () => {\n\t\t\tconst mql = window.matchMedia(\"(orientation: portrait)\");\n\t\t\t// mql.addListener((m) => {\n\t\t\t// \tif (m.matches) {\n\t\t\t// \t\tsetIsPortrait(() => true);\n\t\t\t// \t} else {\n\t\t\t// \t\tsetIsPortrait(() => false)\n\t\t\t// \t}\n\t\t\t// })\n\t\t\ttry {\n\t\t\t\t// Chrome & Firefox\n\t\t\t\tmql.addEventListener('change', (m) => {\n\t\t\t\t\tif (m.matches) {\n\t\t\t\t\t\tsetIsPortrait(() => true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetIsPortrait(() => false)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} catch (e1) {\n\t\t\t\ttry {\n\t\t\t\t\t// Safari\n\t\t\t\t\tmql.addListener((m) => {\n\t\t\t\t\t\tif (m.matches) {\n\t\t\t\t\t\t\tsetIsPortrait(() => true);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetIsPortrait(() => false)\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} catch (e2) {\n\t\t\t\t\tconsole.error(e2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\twatchOrientationChanges();\n\t\twindow.addEventListener('resize', () => {\n\t\t\tsetCurrentDeviceHeight(() => window.innerHeight);\n\t\t\tsetCurrentDeviceWidth(() => window.innerWidth);\n\t\t\tsetIsMobile(() => {\n\t\t\t\treturn window.innerWidth <= 900\n\t\t\t});\n\t\t})\n\t\t// window.addEventListener('orientationchange', (e: any) => {\n\t\t// \tsetIsPortrait((prev) => {\n\t\t// \t\tconst target = e.target;\n\t\t// \t\tif (target) {\n\t\t// \t\t\treturn target.screen.orientation.angle === 0\n\t\t// \t\t}\n\t\t// \t\treturn prev\n\t\t// \t})\n\t\t// })\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('resize', () => {\n\t\t\t\tsetCurrentDeviceHeight(() => window.innerHeight);\n\t\t\t\tsetCurrentDeviceWidth(() => window.innerWidth);\n\t\t\t\tsetIsMobile(() => {\n\t\t\t\t\treturn window.innerWidth <= 900\n\t\t\t\t});\n\t\t\t})\n\t\t\t// mql.removeEventListener('change', (m) => {\n\t\t\t// \tif (m.matches) {\n\t\t\t// \t\tsetIsPortrait(() => true);\n\t\t\t// \t} else {\n\t\t\t// \t\tsetIsPortrait(() => false)\n\t\t\t// \t}\n\t\t\t// })\n\t\t\t// window.removeEventListener('orientationchange', () => {\n\t\t\t// \tsetIsPortrait(() => {\n\t\t\t// \t\treturn window.matchMedia(\"(orientation: portrait)\").matches\n\t\t\t// \t})\n\t\t\t// })\n\t\t}\n\t}, [])\n\n\tconst store = {\n\t\tisMobile,\n\t\tisPortrait,\n\t\t// orientation,\n\t\t// setOrientation,\n\n\t\tdefaultDeviceHeight: defaultViewportContext.defaultDeviceHeight,\n\t\tdefaultDeviceWidth: defaultViewportContext.defaultDeviceWidth,\n\t\t\n\t\tcurrentDeviceHeight,\n\t\tcurrentDeviceWidth,\n\t\t// setCurrentDeviceWidth,\n\t\t// setCurrentDeviceHeight,\n\n\t\tlockedViewportHeight,\n\t\tlockedViewportWidth,\n\t\t\n\t\tunlockViewport,\n\t\tlockViewport,\n\n\t\t// setIsMobile\n\t}\n\n\treturn (\n\t\t<ViewportContext.Provider value={store}> \n\t\t\t{ props.children }\n\t\t</ViewportContext.Provider>\n\t)\n}","import React, {\n\tFunctionComponent,\n\tuseRef,\n\tuseState,\n\tuseContext,\n} from 'react'\nimport { useSpring, animated } from 'react-spring';\n\nimport { ViewportContext } from '../context/viewportContext';\n\ninterface EmailProps {\n\tdarkMode: Boolean,\n}\n\nexport const Email: FunctionComponent<EmailProps> = ({ darkMode }) => {\n\tlet [success, setSuccess] = useState<Boolean | null>(null);\n\tlet [email, setEmail] = useState<string>('')\n\tlet [message, setMessage] = useState<string | null>(null)\n\tlet [processing, setProcessing] = useState<boolean>(false);\n\tconst { lockViewport, unlockViewport, currentDeviceHeight, lockedViewportHeight, lockedViewportWidth } = useContext(ViewportContext);\n\n\t// let [lockedViewport, setLockedViewport] = useState<any>(null)\n\n\tconst reset = () => {\n\t\tsetMessage(() => null);\n\t\tsetSuccess(() => null);\n\t\tsetProcessing(() => false);\n\t}\n\n\tconst formRef = useRef<HTMLFormElement>(null);\n\tconst submitHandler = (e:any) => {\n\t\t// do nothing if successs\n\t\te.preventDefault();\n\t\tif (!success && !processing) {\n\t\t\t// unlockViewport();\n\t\t\treset();\n\t\t\tconst url = process.env.REACT_APP_EMAIL_URL ? process.env.REACT_APP_EMAIL_URL : null;\n\t\t\t// const body = { email };\n\t\t\tconst options: any = {\n\t\t\t\tmethod: 'POST',\n\t\t\t\t// mode: 'no-cors',\n\t\t\t\t// headers: {\n\t\t\t\t// \t'Content-Type': 'application/json; charset=utf-8',\n\t\t\t\t// },\n\t\t\t\tbody: formRef.current ? new FormData(formRef.current) : null,\n\t\t\t}\n\t\n\t\t\tif (url && !processing) {\n\t\t\t\tsetProcessing(() => true);\n\t\t\t\tfetch(url, options)\n\t\t\t\t.then(res => {\n\t\t\t\t\treturn res.json()\n\t\t\t\t})\n\t\t\t\t.then(data => {\n\t\t\t\t\tif (data.result === 'success') {\n\t\t\t\t\t\tsetSuccess(() => true);\n\t\t\t\t\t\tsetMessage(() => data.message);\n\t\t\t\t\t} else if (data.result === 'error') {\n\t\t\t\t\t\tsetSuccess(() => false);\n\t\t\t\t\t\tsetMessage(() => data.error);\n\t\t\t\t\t}\n\t\t\t\t\tsetProcessing(() => false);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetSuccess(() => false);\n\t\t\t\t\tsetMessage(() => 'An error occurred please try again.')\n\t\t\t\t\tsetProcessing(() => false);\n\t\t\t\t\t// console.log(error)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tconst emailInputProps = useSpring({\n\t\tcolor: darkMode ? email.length > 0 ? '#FFFFFF' : '#464950' : email.length > 0 ? '#334669' : '#D8DCE6',\n\t\tborderBottom: darkMode ?  email.length > 0 ? '2px solid #FFFFFF' : '2px solid #464950' : email.length > 0 ? '2px solid #334669' : '2px solid #D8DCE6',\n\t\tconfig: { duration: 0 },\n\t\t// immediate: (key) => key === 'color'\n\t})\n\n\tconst submitButtonProps = useSpring({\n\t\tbackground: success ? '#68ec52' : darkMode ? '#754AAD' : '#EE84FF',\n\t\tboxShadow: darkMode ? '21px 17px 45px rgba(14, 28, 33, .8)' : '5px 6px 25px rgba(176, 195, 210, .8)',\n\t\tcolor: success ? '#000000' : darkMode ? '#FFFFFF' : '#2E476E',\n\t\timmediate: key => key === 'boxShadow'\n\t})\n\n\treturn (\n\t\t// if null do nothing, if false show fail, if true show success\n\t\t<form ref={formRef} onSubmit={submitHandler} className={ darkMode ? 'Email darkmode' : 'Email'}>\n\t\t\t<animated.input\n\t\t\t\tstyle={emailInputProps} name=\"Email\"\n\t\t\t\ttype=\"email\"\n\t\t\t\tvalue={email}\n\t\t\t\tplaceholder='email'\n\t\t\t\tonChange={(e:any) => setEmail(e.currentTarget.value)}\n\t\t\t\tonFocus={() => {\n\t\t\t\t\treset();\n\t\t\t\t\tif (!lockedViewportHeight && !lockedViewportWidth) {\n\t\t\t\t\t\tlockViewport();\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tonBlur={() => {\n\t\t\t\t\tif (currentDeviceHeight === lockedViewportHeight) {\n\t\t\t\t\t\tunlockViewport();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}}\n\t\t\t\trequired\n\t\t\t/>\n\t\t\t<div className=\"submitWrapper\">\n\t\t\t\t<animated.input style={submitButtonProps} type=\"submit\" value={success ? 'Subscribed' : processing ? '' : 'Subscribe'} />\n\t\t\t\t{processing && <div className=\"dot-wrap\"><div className=\"dot-flashing\"></div></div> }\n\t\t\t</div>\n\t\t\t{success === false && <p className=\"error\">{message}</p> }\n\t\t</form>\n\t)\n}\n","import React, { FunctionComponent } from 'react';\nimport { useSpring, animated } from 'react-spring';\nimport { Email } from './Email';\n\ninterface MobileEmailFormProps {\n\tprops?: any,\n\temailVisible: Boolean,\n\tdarkMode: Boolean,\n\tsetDarkMode: React.Dispatch<React.SetStateAction<Boolean>>,\n\t// setInstructionsVisible: React.Dispatch<React.SetStateAction<boolean>>,\n\t// instructionsVisible: boolean,\n\tsphereState: {\n\t\thold: Boolean;\n\t\tdirection: null | 'forwards' | 'backwards';\n\t\t// position: [number, number, number] | null;\n\t},\n}\n\nexport const MobileEmailForm: FunctionComponent<MobileEmailFormProps> = ({ sphereState, emailVisible, darkMode, setDarkMode }) => {\n\tconst animationProps = useSpring({\n\t\t// config: { mass: 1, friction: 8, clamp: true },\n\t\tconfig: { duration: 150 },\n\t\topacity: !emailVisible ? 0 : 1,\n\t\tbottom: !emailVisible ? -6 : 0,\n\t\tbackground: darkMode ? '#2E3138' : '#F9FAFC',\n\t\t// borderImage: darkMode ? 'linear-gradient(to top, #26282C, 70%, #363940) 1 0%' : 'linear-gradient(to right, #FFFFFF, #E5EFFA) 1 0%',\n\t\tboxShadow: darkMode ? '0px 4px 13px rgba(29, 30, 35, .9)' : '0px 14px 18px rgba(31, 36, 39, .75)',\n\t\timmediate: key => ['background', 'boxShadow'].includes(key),\n\t\t// onRest: ({ opacity }) => {\n\t\t// \t!instructionsVisible && setInstructionsVisible((prev) => {\n\t\t// \t\tif (opacity === 1 && sphereState.direction === \"backwards\") {\n\t\t// \t\t\treturn true\n\t\t// \t\t}\n\t\t// \t\treturn prev\n\t\t// \t})\n\t\t// }\n\t})\n\n\tconst textProps = useSpring({\n\t\tcolor: darkMode ? '#FFFFFF' : '#334669',\n\t\tconfig: { duration: 130 }\n\t})\n\n\tconst buttonProps = useSpring({\n\t\t// border: darkMode ? '2px solid #FFFFFF' : '2px solid #000000',\n\t\tbackground: darkMode ? '#2C3036' : '#E6EEF8',\n\t\tcolor: darkMode ? '#FFFFFF' : '#000000',\n\t\tboxShadow: !darkMode ? '-4px -2px 10px rgba(255, 255, 255, 1), 4px 2px 18px rgba(170, 187, 201, 0.9)' : '-2px -1px 7px rgba(72, 78, 83, 0.75), 3px 1px 7px rgba(22, 26, 28, 0.9)',\n\t\tconfig: { duration: 130 },\n\t\timmediate: key => ['background', 'boxShadow'].includes(key)\n\t})\n\n\treturn (\n\t\t<animated.div className=\"MobileEmailForm\" style={animationProps}>\n\t\t\t<animated.h5 style={textProps}>Stay Updated</animated.h5>\n\t\t\t<Email darkMode={darkMode} />\n\t\t\t<animated.button style={buttonProps} className=\"mode-switch\" onClick={() => setDarkMode(() => !darkMode)}>\n\t\t\t\t{ darkMode ? 'L' : 'D'}\n\t\t\t</animated.button>\n\t\t</animated.div>\n\t)\n}","import React, {\n\tFunctionComponent,\n\tuseEffect,\n\tuseState,\n\t// PointerEvent,\n\tuseRef, \n\tuseCallback\n} from 'react';\nimport { useSpring, animated } from 'react-spring';\n\ninterface MobileInstructionsProps {\n\tdarkMode: Boolean,\n\tinstructionsState: {\n\t\tposition: 'up' | 'down',\n\t\tvisible: boolean\n\t}\n\tsetInstructionsState: React.Dispatch<React.SetStateAction<{\n\t\tposition: 'up' | 'down';\n\t\tvisible: boolean;\n\t}>>\n}\n\nexport const MobileInstructions: FunctionComponent<MobileInstructionsProps> = ({\n\tinstructionsState,\n\tdarkMode,\n\tsetInstructionsState\n}) => {\n\tconst instructionsRef = useRef<HTMLDivElement>(null);\n\n\tlet [pointerState, setPointerState] = useState<any>({\n\t\txStart: null,\n\t\tyStart: null,\n\t\tyTravel: null,\n\t\txTravel: null,\n\t})\n\n\tconst pointerDownHandler = (e: PointerEvent) => {\n\t\tconst {\n\t\t\tclientX,\n\t\t\tclientY\n\t\t} = e\n\t\tsetPointerState((prev: any) => {\n\t\t\tconst updated = {\n\t\t\t\txStart: clientX,\n\t\t\t\tyStart: clientY,\n\t\t\t}\n\t\t\treturn { ...prev, ...updated}\n\t\t})\n\t}\n\n\tconst pointerMoveHandler = (e: PointerEvent) => {\n\t\tconst {\n\t\t\tclientX,\n\t\t\tclientY\n\t\t} = e\n\t\tsetPointerState((prev: any) => {\n\t\t\tconst yTravel = prev.yStart ? prev.yStart - clientY : null;\n\t\t\tconst xTravel = prev.xStart ? clientX - prev.xStart : null;\n\t\t\treturn { ...prev, yTravel, xTravel }\n\t\t})\n\t}\n\n\tconst pointerUpHandler = () => {\n\t\tsetPointerState(() => ({\n\t\t\txTravel: null,\n\t\t\tyTravel: null,\n\t\t\txStart: null,\n\t\t\tyStart: null,\n\t\t}))\n\t}\n\n\tconst clickHandler = useCallback(() => {\n\t\tsetInstructionsState((prev) => {\n\t\t\tif (prev.position === 'down') {\n\t\t\t\treturn { ...prev, position: 'up'}\n\t\t\t}\n\t\t\treturn prev\n\t\t})\n\t}, [setInstructionsState])\n\n\t// const resetPointer = () => {\n\t// \tsetPointerState(() => ({\n\t// \t\txTravel: null,\n\t// \t\tyTravel: null,\n\t// \t\txStart: null,\n\t// \t\tyStart: null,\n\t// \t}))\n\t// }\n\n\tconst instructionsDivProps = useSpring({\n\t\topacity: instructionsState.visible ? 1 : 0,\n\t\tconfig: instructionsState.position === 'down' ? { duration: 70 } : { tension: 280, clamp: true },\n\t})\n\n\tconst instructionsTextProps = useSpring({\n\t\tcolor: darkMode ? '#FFFFFF' : '#000000',\n\t\tconfig: { duration: 130 }\n\t})\n\n\tuseEffect(() => {\n\t\tif (pointerState.yTravel !== null) {\n\t\t\tsetInstructionsState((prev) => {\n\t\t\t\tif (prev.position === 'up' && pointerState.yTravel < -8) {\n\t\t\t\t\t// resetPointer();\n\t\t\t\t\treturn { ...prev, position: 'down'}\n\t\t\t\t} else if (prev.position === 'down' && pointerState.yTravel > 8) {\n\t\t\t\t\t// resetPointer();\n\t\t\t\t\treturn { ...prev, position: 'up'}\n\t\t\t\t}\n\t\t\t\treturn prev\n\t\t\t})\n\t\t}\n\t}, [pointerState, setInstructionsState])\n\n\tuseEffect(() => {\n\t\tlet ref = instructionsRef.current;\n\t\tif (ref) {\n\t\t\tref.addEventListener('pointerdown', (e: PointerEvent) => pointerDownHandler(e))\n\t\t\tref.addEventListener('pointermove', (e: PointerEvent) => pointerMoveHandler(e))\n\t\t\tref.addEventListener('pointerup', () => pointerUpHandler())\n\t\t\tref.addEventListener('click', () => clickHandler())\n\t\t}\n\t\treturn () => {\n\t\t\tif (ref) {\n\t\t\t\tref.removeEventListener('pointerdown', (e: PointerEvent) => pointerDownHandler(e))\n\t\t\t\tref.removeEventListener('pointermove', (e: PointerEvent) => pointerMoveHandler(e))\n\t\t\t\tref.removeEventListener('pointerup', () => pointerUpHandler())\n\t\t\t\tref.removeEventListener('click', () => clickHandler())\n\t\t\t}\n\t\t}\n\t}, [clickHandler])\n\n\treturn (\n\t\t<animated.div\n\t\t\t// onPointerDown={(e: PointerEvent) => pointerDownHandler(e)}\n\t\t\t// onPointerMove={(e: PointerEvent) => pointerMoveHandler(e)}\n\t\t\t// onPointerUp={() => {\n\t\t\t// \tpointerUpHandler()\n\t\t\t// }}\n\t\t\t// onClick={() => {\n\t\t\t// \tif (instructionsState.position === 'down') {\n\t\t\t// \t\tsetInstructionsState(prev => ({...prev, position: 'up'}))\n\t\t\t// \t}\n\t\t\t// }}\n\t\t\tref={instructionsRef}\n\t\t\tstyle={instructionsDivProps}\n\t\t\tclassName={`hold-icon${darkMode ? ' darkMode' : ''}${instructionsState.position === 'down' ? ' down' : ''}`}\n\t\t>\n\t\t\t<div className=\"center\"><div className=\"swiper\"></div></div>\n\t\t\t{ !darkMode ? <img src=\"../assets/holdicon.svg\" alt=\"Press and hold to learn more about Andy Mag\"/> : <img src=\"../assets/holdicon_white.svg\" alt=\"Press and hold to learn more about Andy Mag\"/> }\n\t\t\t<animated.p style={instructionsTextProps}>Press and hold to learn more about Andy Mag</animated.p>\n\t\t</animated.div>\n\t)\n}","import React, {\n\tFunctionComponent,\n\tuseState,\n\t// useMemo,\n\tuseRef,\n\tuseEffect, useContext\n} from 'react';\nimport { useSpring, animated } from 'react-spring';\nimport { PerspectiveCamera } from 'three';\nimport { Canvas, useThree } from 'react-three-fiber';\n\nimport { Sphere } from './Sphere2';\nimport { ColorShow } from './ColorShow';\nimport { MobileEmailForm } from './MobileEmailForm';\nimport { MobileInstructions } from './MobileInstructions';\n\nimport { ViewportContext } from '../context/viewportContext';\n\nconst Camera = () => {\n\tconst camera = useRef<PerspectiveCamera | null>(null)\n\tconst { aspect, size, setDefaultCamera } = useThree()\n\tconst pixelToThreeUnitRatio = 1\n\tconst planeDistance = 0\n\tconst cameraDistance = 500\n\tconst distance = cameraDistance - planeDistance\n\tconst height = size.height / pixelToThreeUnitRatio\n\tconst halfFovRadians = Math.atan((height / 2) / distance)\n\tconst fov = 2 * halfFovRadians * (180/Math.PI)\n\tuseEffect(() => {\n\t\tconsole.log(camera.current);\n\t\tif (camera.current) setDefaultCamera(camera.current)\n\t}, [size, setDefaultCamera])\n\n\treturn <perspectiveCamera\n\t\tref={camera}\n\t\taspect={aspect}\n\t\tfov={fov}\n\t\tposition={[0, 0, cameraDistance]}\n\t\tonUpdate={self => self.updateProjectionMatrix()}\n\t/>\n  }\n\nexport const MobileAnimation: FunctionComponent = () => {\n\tconst { isPortrait } = useContext(ViewportContext);\n\tconst scrollIndicatorPositions = useRef<number[]>([-1, 10, 22, 31.5]);\n\tconst [darkMode, setDarkMode] = useState<Boolean>(false);\n\tconst [chapterIndex, setChapterIndex ] = useState<number>(0);\n\tconst [colorShowActive, setColorShowActive] = useState<boolean>(false);\n\tconst [sphereState, setSphereState] = useState<{\n\t\thold: boolean,\n\t\tdirection: null | 'forwards' | 'backwards',\n\t\tmountAnimating: boolean\n\t}>({ hold: false, direction: 'backwards', mountAnimating: true});\n\tconst [emailVisible, setEmailVisible] = useState<Boolean>(false);\n\t// const [instructionsVisible, setInstructionsVisible] = useState<boolean>(false);\n\tconst [instructionsState, setInstructionsState] = useState<{ position: 'up' | 'down', visible: boolean}>({ position: 'up', visible: false})\n\tlet [scrollIndicatorPosition, setScrollIndicatorPosition] = useState<number>(scrollIndicatorPositions.current[0])\n\n\tconst scrollIndicatorAnimate = useSpring({\n\t\tbackgroundColor: darkMode ? '#FFFFFF' : '#000000',\n\t\ttop: scrollIndicatorPosition,\n\t\topacity: colorShowActive ? '1' : '0',\n\t\tconfig: { clamp: true }\n\t})\n\n\tuseEffect(() => {\n\t\tsetScrollIndicatorPosition(() => scrollIndicatorPositions.current[chapterIndex])\n\t}, [chapterIndex])\n\n\treturn (\n\t\t<div className={`MobileAnimation${!isPortrait ? ' hide' : ''}`}>\n\t\t\t<div className=\"logo\" onClick={() => {\n\t\t\t\tsetColorShowActive(() => false)\n\t\t\t}}>\n\t\t\t\t{ !darkMode ? <img src='../assets/logo.svg' alt='Logo' /> : <img src='../assets/logo_white.svg' alt='Logo' /> }\n\t\t\t\t<animated.div className=\"scroll-indicator\" style={scrollIndicatorAnimate} />\n\t\t\t</div>\n\t\t\t<Canvas\n\t\t\t\tstyle={{ backgroundColor: darkMode ? '#26282C' : '#F9FAFC' }}\n\t\t\t\tclassName=\"Canvas\"\n\t\t\t>\n\t\t\t\t<Camera />\n\t\t\t\t<Sphere\n\t\t\t\t\tradius={135}\n\t\t\t\t\tsetInstructionsState={setInstructionsState}\n\t\t\t\t\tsetEmailVisible={setEmailVisible}\n\t\t\t\t\tinPosition={[0, 135, 0]}\n\t\t\t\t\tsphereState={sphereState}\n\t\t\t\t\toutPosition={[0, 60, 646]}\n\t\t\t\t\tsetSphereState={setSphereState}\n\t\t\t\t\tbreakPoint={468}\n\t\t\t\t\tsetColorShowActive={setColorShowActive}\n\t\t\t\t/>\n\t\t\t</Canvas>\n\t\t\t<ColorShow chapterIndex={chapterIndex} colorShowActive={colorShowActive} setColorShowActive={setColorShowActive} setChapterIndex={setChapterIndex} setSphereState={setSphereState} darkMode={darkMode} />\n\t\t\t<MobileInstructions darkMode={darkMode} instructionsState={instructionsState} setInstructionsState={setInstructionsState} />\n\t\t\t<MobileEmailForm\n\t\t\t\tsphereState={sphereState}\n\t\t\t\temailVisible={emailVisible}\n\t\t\t\tdarkMode={darkMode}\n\t\t\t\tsetDarkMode={setDarkMode}\n\t\t\t/>\n \t\t</div>\n\t)\n}","import React, {\n\tFunctionComponent,\n\tuseContext\n} from 'react';\n\n// import { Email } from './Email';\n// import { MobileAnimation } from './MobileAnimation';\nimport { MobileAnimation } from './MobileAnimation2';\nimport { ViewportContext } from '../context/viewportContext';\n\nexport const MobileApp: FunctionComponent = () => {\n\tconst { isPortrait } = useContext(ViewportContext);\n\n\treturn (\n\t\t<>\n\t\t\t{ !isPortrait && \n\t\t\t\t<div className=\"LandscapeError\">\n\t\t\t\t\t<img src=\"../assets/round_arrow.svg\" alt=\"Round Arrow\" />\n\t\t\t\t\t<h3>Rotate to portrait mode.</h3>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t<MobileAnimation />\n\t\t</>\n\t)\n}","import React, { FunctionComponent, useRef, createRef, useEffect, useCallback, useState } from 'react';\nimport { useSpring, animated } from 'react-spring';\nimport { useDidUpdate } from '../hooks/useDidUpdate';\n\ninterface DesktopTextProps {\n\tsetChapterIndex: React.Dispatch<React.SetStateAction<number>>\n\tchapterIndex: number | null\n\twheelThreshold: number\n\tsetBackgroundColor: React.Dispatch<React.SetStateAction<string>>\n\tsetButtonShadow: React.Dispatch<React.SetStateAction<string>>\n\t// orbMovingState: \"out-forward\" | \"out-backward\" | \"to-forward\" | \"to-backward\" | \"resting\"\n\tsetOrbMovingState: React.Dispatch<React.SetStateAction<\"out\" | \"to\" | \"resting\" | \"intersecting\" | \"in\" | \"subscribe\" | \"subscribe_hold\" | \"at_threshold\">>\n\tsubscribeActive: boolean\n}\n\nexport const DesktopText: FunctionComponent<DesktopTextProps> = ({ \n\tchapterIndex,\n\tsetChapterIndex,\n\twheelThreshold,\n\tsetBackgroundColor,\n\tsetButtonShadow,\n\tsetOrbMovingState,\n\tsubscribeActive\n}) => {\n\tlet chapterRefs = useRef<React.RefObject<HTMLDivElement>[]>([createRef<HTMLDivElement>(), createRef<HTMLDivElement>(), createRef<HTMLDivElement>(), createRef<HTMLDivElement>()]);\n\tlet [textTransitioning, setTextTransitioning] = useState<'out-down' | 'out-up' | 'in' | null>(null)\n\n\tconst textAnimation = useSpring({\n\t\topacity: subscribeActive ? 0 : 1,\n\t\tzIndex: subscribeActive ? -1 : 2,\n\t\tconfig: {\n\t\t\tmass: 1,\n\t\t\tfriction: 4,\n\t\t\tclamp: true,\n\t\t}\n\t})\n\n\tconst reset = useCallback(() => {\n\t\t// remove all out classes to out down\n\t\tif (chapterRefs.current !== null) {\n\t\t\tchapterRefs.current.forEach((chapter, index) => {\n\t\t\t\tif (chapter.current !== null) {\n\t\t\t\t\tchapter.current.classList.remove('out-up');\n\t\t\t\t\tchapter.current.classList.add('out-down');\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}, [])\n\t\n\tuseEffect(() => {\n\t\tconst {\n\t\t\tcurrent: chapter = null\n\t\t} = chapterRefs.current[0]\n\n\t\tchapter?.classList.remove('out-down')\n\t}, [])\n\n\tuseEffect(() => {\n\t\tif (subscribeActive) {\n\t\t\tsetBackgroundColor(() => '#231B1B')\n\t\t\tsetTimeout(reset, 1000);\n\t\t} else {\n\t\t\tif (chapterRefs.current !== null && chapterRefs.current[0].current !== null) {\n\t\t\t\tif (chapterRefs.current[0].current.classList.contains('out-down')) chapterRefs.current[0].current.classList.remove('out-down') \n\t\t\t}\n\t\t}\n\t}, [subscribeActive, setBackgroundColor, reset])\n\n\tuseDidUpdate(() => {\n\t\tif (chapterIndex !== null) {\n\t\t\tconst {\n\t\t\t\tcurrent: chapter = null\n\t\t\t} = chapterRefs.current[chapterIndex]\n\t\t\t\n\t\t\tsetTextTransitioning(() => 'in')\n\t\t\tchapter?.classList.remove('out-down', 'out-up')\n\t\t}\n\t}, [chapterIndex])\n\n\tconst wheelHandler = useCallback((event: React.WheelEvent<HTMLDivElement>) => {\n\t\tconst { deltaY } = event;\n\t\tif (textTransitioning === null) {\n\t\t\tif (Math.abs(deltaY) > wheelThreshold) {\n\t\t\t\tif (chapterIndex !== null) {\n\t\t\t\t\tconst {\n\t\t\t\t\t\tcurrent: chapter = null\n\t\t\t\t\t} = chapterRefs.current[chapterIndex]\n\t\t\t\t\tif (deltaY > 0 && chapterIndex < 3) {\n\t\t\t\t\t\tchapter?.classList.add('out-up');\n\t\t\t\t\t\tsetTextTransitioning(() => 'out-up')\n\t\t\t\t\t\tsetOrbMovingState(() => 'out')\n\t\t\t\t\t} else if (deltaY < 0 && chapterIndex > 0) {\n\t\t\t\t\t\tchapter?.classList.add('out-down');\n\t\t\t\t\t\tsetTextTransitioning(() => 'out-down')\n\t\t\t\t\t\tsetOrbMovingState(() => 'out')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, [chapterIndex, wheelThreshold, textTransitioning, setOrbMovingState])\n\n\treturn (\n\t\t<animated.div className=\"Text grid\" style={textAnimation}>\n\t\t\t<div\n\t\t\t\tclassName=\"chapter out-down\"\n\t\t\t\tonWheel={(e) => wheelHandler(e)}\n\t\t\t\tref={chapterRefs.current[0]}\n\t\t\t>\n\t\t\t\t<span>\n\t\t\t\t\t<span><h2>The most damaging phrase in language is 'It's</h2></span>\n\t\t\t\t</span>\n\t\t\t\t<span>\n\t\t\t\t\t<span style={{ transitionDelay: '0.06s'}}><h2>always been done that way'</h2></span>\n\t\t\t\t</span>\n\t\t\t\t<span className=\"spacer-top-1\">\n\t\t\t\t\t<span\n\t\t\t\t\t\tstyle={{ transitionDelay: '0.09s'}}\n\t\t\t\t\t\t// set chapterIndex to next\n\t\t\t\t\t\tonTransitionEnd={() => {\n\t\t\t\t\t\t\tif (textTransitioning === 'out-up') {\n\t\t\t\t\t\t\t\tsetChapterIndex(() => 1)\n\t\t\t\t\t\t\t\tsetBackgroundColor(() => '#D695C7')\n\t\t\t\t\t\t\t\tsetButtonShadow(() => '1px 2px 7px 0px rgba(190, 131, 176, 0.95), -1px -2px 7px rgba(241, 167, 224, 1)')\n\t\t\t\t\t\t\t} else if (textTransitioning === 'in') {\n\t\t\t\t\t\t\t\tsetTextTransitioning(() => null)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<h2>- Admiral Grace Hopper</h2>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"chapter out-down\"\n\t\t\t\tref={chapterRefs.current[1]}\n\t\t\t\tonWheel={(e) => wheelHandler(e)}\n\t\t\t>\n\t\t\t\t<span>\n\t\t\t\t\t<span><h2>Andy Mag is an experiential magazine that</h2></span>\n\t\t\t\t</span>\n\t\t\t\t<span>\n\t\t\t\t\t<span style={{ transitionDelay: '0.06s'}}><h2>enables readers to interact (engage) with diverse</h2></span>\n\t\t\t\t</span>\n\t\t\t\t<span>\n\t\t\t\t\t<span \n\t\t\t\t\t\tstyle={{ transitionDelay: '0.09s'}}\n\t\t\t\t\t\tonTransitionEnd={() => {\n\t\t\t\t\t\t\tif (textTransitioning === 'out-up') {\n\t\t\t\t\t\t\t\tsetChapterIndex(() => 2)\n\t\t\t\t\t\t\t\tsetBackgroundColor(() => '#9C95D6')\n\t\t\t\t\t\t\t\tsetButtonShadow(() => '1px 2px 7px #877DD8, -1px -2px 7px #BAB7D3')\n\t\t\t\t\t\t\t} else if (textTransitioning === 'out-down') {\n\t\t\t\t\t\t\t\tsetChapterIndex(() => 0)\n\t\t\t\t\t\t\t\tsetBackgroundColor(() => '#D695AB')\n\t\t\t\t\t\t\t\tsetButtonShadow(() => '1px 2px 7px 0px rgba(189, 132, 151, 1), -1px -2px 7px rgba(246, 169, 195, 1)')\n\t\t\t\t\t\t\t} else if (textTransitioning === 'in') {\n\t\t\t\t\t\t\t\tsetTextTransitioning(() => null)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t><h2>themes and ideas.</h2></span>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"chapter out-down\"\n\t\t\t\tref={chapterRefs.current[2]}\n\t\t\t\tonWheel={(e) => wheelHandler(e)}\n\t\t\t>\n\t\t\t\t<span>\n\t\t\t\t\t<span\n\t\t\t\t\t\tonTransitionEnd={() => {\n\t\t\t\t\t\t\tif (textTransitioning === 'out-up') {\n\t\t\t\t\t\t\t\tsetChapterIndex(() => 3)\n\t\t\t\t\t\t\t\tsetBackgroundColor(() => '#95B1D6')\n\t\t\t\t\t\t\t\tsetButtonShadow(() => '1px 2px 7px 0px #779FD4, -1px -2px 7px #BAC4D2')\n\t\t\t\t\t\t\t} else if (textTransitioning === 'out-down') {\n\t\t\t\t\t\t\t\tsetChapterIndex(() => 1)\n\t\t\t\t\t\t\t\tsetBackgroundColor(() => '#D695C7')\n\t\t\t\t\t\t\t\tsetButtonShadow(() => '1px 2px 7px 0px rgba(190, 131, 176, 0.95), -1px -2px 7px rgba(241, 167, 224, 1)')\n\t\t\t\t\t\t\t} else if (textTransitioning === 'in') {\n\t\t\t\t\t\t\t\tsetTextTransitioning(() => null)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t><h2>Because a great story is worth remembering.</h2></span>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"chapter out-down\"\n\t\t\t\tref={chapterRefs.current[3]}\n\t\t\t\tonWheel={(e) => wheelHandler(e)}\n\t\t\t>\n\t\t\t\t<span>\n\t\t\t\t\t<span\n\t\t\t\t\t\tonTransitionEnd={() => {\n\t\t\t\t\t\t\tif (textTransitioning === 'out-down') {\n\t\t\t\t\t\t\t\tsetChapterIndex(() => 2)\n\t\t\t\t\t\t\t\tsetBackgroundColor(() => '#9C95D6')\n\t\t\t\t\t\t\t\tsetButtonShadow(() => '1px 2px 7px #877DD8, -1px -2px 7px #BAB7D3')\n\t\t\t\t\t\t\t} else if (textTransitioning === 'in') {\n\t\t\t\t\t\t\t\tsetTextTransitioning(() => null)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t><h2>Subscribe to Andy Mag for updates.</h2></span>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</animated.div>\n\t)\n}","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useRef } from 'react';\n\nexport const useDidUpdate = (func: any, deps: Array<any>) => {\n    const didUpdate = useRef(false);\n\n    useEffect(() => {\n        if (didUpdate.current) func();\n        else didUpdate.current = true;\n    }, deps);\n}","// export default {}\nimport React, { FunctionComponent, useRef, useMemo, useState, useEffect, useCallback } from 'react';\nimport * as THREE from 'three';\nimport { useFrame, useThree } from 'react-three-fiber';\nimport { a, useSpring } from 'react-spring/three';\n// import { useDidUpdate } from '../hooks/useDidUpdate';\nimport { Box3 } from 'three';\nimport { DoubleSide } from 'three/';\n// import { Sphere } from './Sphere';\n\ninterface OrbProps {\n\tpointerPosition: [number | null, number | null]\n\tchapterIndex: number\n\torbMovingState: \"out\" | \"to\" | \"resting\" | \"intersecting\" | \"in\" | \"subscribe\" | \"subscribe_hold\" | \"at_threshold\"\n\tsetOrbMovingState: React.Dispatch<React.SetStateAction<\"out\" | \"resting\" | \"to\" | \"intersecting\" | \"in\" | \"subscribe\" | \"subscribe_hold\" | \"at_threshold\">>\n\tresetPointer: () => void\n\tsubscribeActive: boolean\n\tsetSubscribeActive: React.Dispatch<React.SetStateAction<boolean>>\n\tsetEmailActive: React.Dispatch<React.SetStateAction<boolean>>\n\tsetOrbHold: React.Dispatch<React.SetStateAction<boolean>>\n\torbHold: boolean\n\tsetScrollIndicatorHeight: React.Dispatch<React.SetStateAction<number>>\n\tsetChapterIndex: React.Dispatch<React.SetStateAction<number>>\n\tsetBackgroundColor: React.Dispatch<React.SetStateAction<string>>\n\tsetButtonShadow: React.Dispatch<React.SetStateAction<string>>\n\tsetInstructionPosition: React.Dispatch<React.SetStateAction<[number, number] | null>>\n\tsetInstructionActive: React.Dispatch<React.SetStateAction<boolean>>\n}\n\nexport const Orb: FunctionComponent<OrbProps> = ({\n\tpointerPosition,\n\tchapterIndex,\n\torbMovingState,\n\tresetPointer,\n\tsetOrbMovingState,\n\tsubscribeActive,\n\tsetSubscribeActive,\n\tsetEmailActive,\n\tsetOrbHold,\n\torbHold,\n\tsetScrollIndicatorHeight,\n\tsetChapterIndex,\n\tsetBackgroundColor,\n\tsetButtonShadow,\n\tsetInstructionPosition,\n\tsetInstructionActive\n}) => {\n\tconst { viewport, camera } = useThree();\n\tconst orbRef = useRef<THREE.Points | null>(null)\n\tconst previousPosition = useRef<[number, number, number] | null>(null)\n\tconst closestSide = useRef<string | null>(null)\n\tconst subscribePosition = useRef<[number, number, number]>([viewport.width < 1280 ? -220 : -260, 0, 0]);\n\n\tconst orbMask = useRef<any>(null);\n\tconst orbMaskSphereBbox = useRef<THREE.Sphere>(new THREE.Sphere()) // position dependent on orbMask position\n\n\tconst rectPositions = useRef<any>([\n\t\t{\n\t\t\ttextRef1: {\n\t\t\t\tposition: [0,59,0],\n\t\t\t\tgeometry: [690, 26, 0]\n\t\t\t},\n\t\t\ttextRef2: {\n\t\t\t\tposition: [0,6,0],\n\t\t\t\tgeometry: [415, 26, 0]\n\t\t\t},\n\t\t\ttextRef3: {\n\t\t\t\tposition: [0,-60,0],\n\t\t\t\tgeometry: [355, 26, 0],\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttextRef1: {\n\t\t\t\tposition: [0,51,0],\n\t\t\t\tgeometry: [647, 26, 0]\n\t\t\t},\n\t\t\ttextRef2: {\n\t\t\t\tposition: [0,-1,0],\n\t\t\t\tgeometry: [748, 26, 0]\n\t\t\t},\n\t\t\ttextRef3: {\n\t\t\t\tposition: [0,-51,0],\n\t\t\t\tgeometry: [272, 26, 0]\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttextRef1: {\n\t\t\t\tposition: null,\n\t\t\t\tgeometry: undefined\n\t\t\t},\n\t\t\ttextRef2: {\n\t\t\t\tposition: [0,0,0],\n\t\t\t\tgeometry: [682, 26, 0]\n\t\t\t},\n\t\t\ttextRef3: {\n\t\t\t\tposition: null,\n\t\t\t\tgeometry: undefined,\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttextRef1: {\n\t\t\t\tposition: null,\n\t\t\t\tgeometry: undefined\n\t\t\t},\n\t\t\ttextRef2: {\n\t\t\t\tposition: [0,0,0],\n\t\t\t\tgeometry: [537, 26, 0]\n\t\t\t},\n\t\t\ttextRef3: {\n\t\t\t\tposition: null,\n\t\t\t\tgeometry: undefined\n\t\t\t},\n\t\t},\n\t]);\n\n\t// this is causing bug: on viewport change position of orb is changing\n\t// const orbPositions = useMemo<any>(() => {\n\t// \tlet radius = 200;\n\t// \tif (viewport.width >= 1280) radius = 240\n\t// \treturn [\n\t// \t\t{\n\t// \t\t\tpre: [-viewport.width / 2 + 100, -viewport.height / 2 - radius, 0],\n\t// \t\t\tstart: [0,0,0]\n\t// \t\t},\n\t// \t\t{\n\t// \t\t\tpre: [-viewport.width / 2 + 180, viewport.height / 2 + radius, 0],\n\t// \t\t\tstart: [-250,0,0]\n\t// \t\t},\n\t// \t\t{\n\t// \t\t\tpre: [viewport.width / 2 + 180, -viewport.height / 2 - 180, 0],\n\t// \t\t\tstart: [50,0,0]\n\t// \t\t},\n\t// \t\t{\n\t// \t\t\tpre: [viewport.width / 2 - 200, viewport.height / 2 + radius, 0],\n\t// \t\t\tstart: [100,0,0]\n\t// \t\t},\n\t// \t]\n\t// }, [viewport])\n\tconst orbPositions = useMemo<any>(() => {\n\t\tlet radius = 200;\n\t\tif (viewport.width >= 1280) radius = 240\n\t\treturn [\n\t\t\t{\n\t\t\t\tpre: [-viewport.width / 2 + 100, -viewport.height / 2 - radius, 0],\n\t\t\t\tstart: [0,0,0]\n\t\t\t},\n\t\t\t{\n\t\t\t\tpre: [-viewport.width / 2 + 180, viewport.height / 2 + radius, 0],\n\t\t\t\tstart: [-250,0,0]\n\t\t\t},\n\t\t\t{\n\t\t\t\tpre: [viewport.width / 2 + 180, -viewport.height / 2 - 180, 0],\n\t\t\t\tstart: [50,0,0]\n\t\t\t},\n\t\t\t{\n\t\t\t\tpre: [viewport.width / 2 - 200, viewport.height / 2 + radius, 0],\n\t\t\t\tstart: [100,0,0]\n\t\t\t},\n\t\t]\n\t}, [])\n\n\tconst orbPositionConfigs = useRef<any>({\n\t\tresting: {\n\t\t\tmass: 1000,\n\t\t\tfriction: 1400,\n\t\t\tclamp: false\n\t\t},\n\t\tintersecting: undefined,\n\t\tout: {\n\t\t\tmass: 5,\n\t\t\tfriction: 4.5,\n\t\t\tclamp: true,\n\t\t},\n\t\tto: {\n\t\t\tduration: 1\n\t\t},\n\t\tin: {\n\t\t\tmass: 1000,\n\t\t\tfriction: 1400,\n\t\t\tclamp: false\n\t\t},\n\t\tsubscribe: {\n\t\t\ttension: 120,\n\t\t\tclamp: true\n\t\t},\n\t\tsubscribe_hold: {\n\t\t\tmass: 70,\n\t\t\t// friction: 50,\n\t\t\ttension: 140,\n\t\t\tclamp: true\n\t\t\t// duration: 600\n\t\t},\n\t\tat_threshold: {\n\t\t\tduration: 600\n\t\t}\n\t})\n\n\t// chapter rects\n\n\tconst textRef1 = useRef<any>(null);\n\tconst textBbox1 = useRef<Box3>(new Box3(new THREE.Vector3(), new THREE.Vector3()));\n\n\tconst textRef2 = useRef<any>(null);\n\tconst textBbox2 = useRef<Box3>(new Box3(new THREE.Vector3(), new THREE.Vector3()));\n\n\tconst textRef3 = useRef<any>(null);\n\tconst textBbox3 = useRef<Box3>(new Box3(new THREE.Vector3(), new THREE.Vector3()));\n\n\tconst subscribeRef = useRef<any>(null);\n\tlet subscribeBbox = useRef<Box3>(new Box3(new THREE.Vector3(), new THREE.Vector3()));\n\n\tconst [orbScale, setOrbScale] = useState<[number, number, number] | null>(null)\n\tconst [orbPosition, setOrbPosition] = useState<[number,number,number] | null>(orbPositions[chapterIndex].pre)\n\tconst [isIntersecting, setIsIntersecting] = useState<boolean>(orbMovingState === 'intersecting' ? true : false);\n\tconst [orbOpacity, setOrbOpacity] = useState<number>(1);\n\t\n\tconst vertices = useMemo(() => {\n\t\tconst computedVertices = [];\n\t\t\n\t\tfor (let i = 0; i < 1800; i++) {\n\n\t\t\tconst theta = THREE.MathUtils.randFloatSpread(360); \n\t\t\tconst phi = THREE.MathUtils.randFloatSpread(360);\n\t\t\t\n\t\t\tconst x = 200 * Math.sin(theta) * Math.cos(phi);\n\t\t\tconst y = 200 * Math.sin(theta) * Math.sin(phi);\n\t\t\tconst z = 200 * Math.cos(theta);\n\n\t\t\tcomputedVertices.push([x, y, z]);\n\t\t}\n\t\treturn computedVertices.map(v => new THREE.Vector3(...v));\n\t}, [])\n\n\tconst getOrbPosition = useCallback(() => {\n\t\tif (orbRef.current !== null) {\n\t\t\tconst currentPosition = [orbRef.current.position.x, orbRef.current.position.y, orbRef.current.position.z];\n\t\t\tconst setPosition = orbPosition;\n\t\t\tlet match;\n\t\t\tif (orbMovingState === 'subscribe') {\n\t\t\t\tmatch = setPosition ? currentPosition.every((coord, index) => {\n\t\t\t\t\t// if the coord is within 5 units away in any direction return true for that direction\n\t\t\t\t\treturn Math.abs(coord - setPosition[index]) < 8\n\t\t\t\t}) : false\n\t\t\t} else {\n\t\t\t\tmatch = setPosition ? currentPosition.every((coord, index) => coord === setPosition[index]) : false;\n\t\t\t}\n\t\t\tif (match) {\n\t\t\t\tswitch (orbMovingState) {\n\t\t\t\t\tcase 'to':\n\t\t\t\t\t\treturn 'pre'\n\t\t\t\t\tcase 'subscribe':\n\t\t\t\t\t\treturn 'subscribe'\n\t\t\t\t\tcase 'at_threshold':\n\t\t\t\t\t\treturn 'at_threshold'\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false\n\t\t}\n\t\treturn false\n\t}, [orbMovingState, orbPosition])\n\n\tconst placeInstructions = useCallback(() => {\n\t\tconst center = viewport.width < 1280 ? new THREE.Vector3(-220, 0, 0) :  new THREE.Vector3(-260, 0, 0);\n\t\tconst radius = viewport.width < 1280 ? 200 : 240;\n\n\t\tcenter.project(camera);\n\t\tcenter.x = center.x * (0.5 * viewport.width) + 0.5 * viewport.width + (0.5 * radius);\n\t\tcenter.y = -center.y * (0.5 * viewport.height) + 0.5 * viewport.height + radius;\n\n\t\tsetInstructionPosition(() => [center.x, center.y]);\n\t}, [viewport, camera, setInstructionPosition])\n\n\tconst { position, opacity, transparent } = useSpring({\n\t\tposition: orbPosition,\n\t\topacity: orbOpacity,\n\t\ttransparent: 0,\n\t\tconfig: isIntersecting ? orbPositionConfigs.current.intersecting : orbPositionConfigs.current[orbMovingState],\n\t\tonFrame: ({ opacity }: { opacity: number }) => {\n\t\t\tconst match = getOrbPosition();\n\t\t\tif (match === 'pre') {\n\t\t\t\tsetSubscribeActive((prev) => {\n\t\t\t\t\tif (prev === true) {\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t\treturn false\n\t\t\t\t})\n\t\t\t\tsetScrollIndicatorHeight(() => 0)\n\t\t\t\tsetOrbMovingState(() => 'in');\n\t\t\t\tsetOrbPosition(() => orbPositions[chapterIndex].start);\n\t\t\t} else if (match === 'subscribe') {\n\t\t\t\tsetEmailActive(() => true)\n\t\t\t\tsetInstructionActive(() => true)\n\t\t\t} else if (match === 'at_threshold') {\n\t\t\t\tif (opacity === 0) {\n\t\t\t\t\t// do not set subscribe back to active until orb is at pre position\n\t\t\t\t\tsetChapterIndex(() => 0)\n\t\t\t\t\tsetOrbMovingState(() => 'to')\n\t\t\t\t\tsetEmailActive(() => false)\n\t\t\t\t\tsetInstructionActive(() => false)\n\t\t\t\t\tsetOrbHold(() => false)\n\t\t\t\t\tsetOrbPosition(() => orbPositions[0].pre)\n\t\t\t\t\tsetBackgroundColor(() => '#D695AB')\n\t\t\t\t\tsetButtonShadow(() => '1px 2px 7px 0px #576F6F6F, -1px -2px 7px #A6D3D3D3')\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t})\n\n\tconst autoRotateOrb = useCallback((number: number) => {\n\t\tif (orbRef.current !== null) {\n\t\t\torbRef.current.rotation.y += number\n\t\t}\n\t}, [])\n\n\tconst computeBoundingAreas = useCallback(() => {\n\t\tif (orbMask.current !== null) orbMask.current.geometry.computeBoundingSphere();\n\t\tif (textRef1.current !== null) textRef1.current.geometry.computeBoundingBox();\n\t\tif (textRef2.current !== null) textRef2.current.geometry.computeBoundingBox();\n\t\tif (textRef3.current !== null) textRef3.current.geometry.computeBoundingBox();\n\t\tif (subscribeRef.current !== null) subscribeRef.current.geometry.computeBoundingBox();\n\t}, [])\n\n\tconst updateOrbMaskSphereBboxRadius = useCallback(() => {\n\t\tif (orbMaskSphereBbox.current !== null) {\n\t\t\tif (viewport.width > 900 && viewport.width < 1280) {\n\t\t\t\torbMaskSphereBbox.current.radius = orbMask.current.geometry.boundingSphere.radius;\n\t\t\t} else if (viewport.width >= 1280) {\n\t\t\t\torbMaskSphereBbox.current.radius = orbMask.current.geometry.boundingSphere.radius + 40;\n\t\t\t}\n\t\t}\n\t}, [viewport])\n\n\tconst updateOrbMaskSphereBboxCenter = useCallback(() => {\n\t\tif (orbMaskSphereBbox.current !== null) orbMaskSphereBbox.current.center = new THREE.Vector3(orbMask.current.position.x, orbMask.current.position.y, orbMask.current.position.z)\n\t}, [])\n\n\t// const atHoldThresholdAutomator = useCallback(() => {\n\t// \t// set orb opacity to 0, return to first chapter slide,\n\t// \tsetBackgroundColor(() => '#D695AB')\n\t// \tsetButtonShadow(() => '1px 2px 7px 0px #576F6F6F, -1px -2px 7px #A6D3D3D3')\n\t// \tsetOrbOpacity(() => 0)\n\t// \tsetChapterIndex(() => 0)\n\t// \tsetSubscribeActive(() => false)\n\t// \tsetOrbMovingState(() => 'out')\n\t// \tsetEmailActive(() => false)\n\t// }, [setChapterIndex, setBackgroundColor, setButtonShadow, setOrbOpacity, setSubscribeActive, setEmailActive, setOrbMovingState])\n\t// const atHoldThresholdAutomator = useCallback(() => {\n\t// \t// set orb opacity to 0, return to first chapter slide,\n\t// \tsetOrbMovingState(() => 'at_threshold');\n\t// }, [setOrbMovingState])\n\n\tconst getClosestSide = useCallback((): string | null => {\n\t\tif (orbRef.current !== null ) {\n\t\t\tconst distanceObj = {\n\t\t\t\tleft: orbRef.current.position.x + (0.5 * viewport.width),\n\t\t\t\tright: (0.5 * viewport.width) - orbRef.current.position.x,\n\t\t\t\ttop: (0.5 * viewport.height) - orbRef.current.position.y,\n\t\t\t\tbottom: orbRef.current.position.y + (0.5 * viewport.height)\n\t\t\t}\n\t\t\t\n\t\t\tconst min = Math.min(distanceObj.left, distanceObj.right, distanceObj.top, distanceObj.bottom);\n\n\t\t\tif (min === distanceObj.left) {\n\t\t\t\treturn 'left'\n\t\t\t} else if (min === distanceObj.right) {\n\t\t\t\treturn 'right'\n\t\t\t} else if (min === distanceObj.bottom) {\n\t\t\t\treturn 'bottom'\n\t\t\t} else if (min === distanceObj.top) {\n\t\t\t\treturn 'top'\n\t\t\t}\n\t\t}\n\t\treturn null\n\t}, [viewport])\n\n\tconst getTranslatedPointerPosition = useCallback(() => {\n\t\tlet position: [number, number, number] | null = null;\n\t\tif (pointerPosition[0] !== null && pointerPosition[1] !== null) {\n\t\t\tconst x = pointerPosition[0] - window.innerWidth / 2;\n\t\t\tconst y = -pointerPosition[1] + window.innerHeight / 2;\n\t\t\tposition = [x, y, 0];\n\t\t}\n\t\treturn position\n\t}, [pointerPosition])\n\n\tconst isSphereIntersectingBox = useCallback((sphere: THREE.Sphere, box: Box3) => {\n\t\tvar x = Math.max(box.min.x, Math.min(sphere.center.x, box.max.x));\n\t\tvar y = Math.max(box.min.y, Math.min(sphere.center.y, box.max.y));\n\t\tvar z = Math.max(box.min.z, Math.min(sphere.center.z, box.max.z));\n\t  \n\t\tvar distance = Math.sqrt((x - sphere.center.x) * (x - sphere.center.x) +\n\t\t\t\t\t\t\t\t (y - sphere.center.y) * (y - sphere.center.y) +\n\t\t\t\t\t\t\t\t (z - sphere.center.z) * (z - sphere.center.z));\n\t\t\n\t\treturn distance < sphere.radius;\n\t}, [])\n\n\tconst moveOut = useCallback(() => {\n\t\t// using the closest side, translate out of view\n\t\tlet radius: number;\n\t\tif (viewport.width > 900 && viewport.width < 1280) {\n\t\t\tradius = 200;\n\t\t} else {\n\t\t\tradius = 240;\n\t\t}\n\n\t\tsetOrbPosition((prev) => {\n\t\t\tif (prev !== null && orbRef.current !== null) {\n\t\t\t\tlet x = orbRef.current.position.x;\n\t\t\t\tlet y = orbRef.current.position.y;\n\t\t\t\tconst z = orbRef.current.position.z;\n\t\t\t\tif (closestSide.current === 'left') {\n\t\t\t\t\tx = (-0.5 * viewport.width) - radius;\n\t\t\t\t} else if (closestSide.current === 'bottom') {\n\t\t\t\t\ty = (-0.5 * viewport.height) - radius;\n\t\t\t\t} else if (closestSide.current === 'top') {\n\t\t\t\t\ty = (0.5 * viewport.height) + radius\n\t\t\t\t} else if (closestSide.current === 'right') {\n\t\t\t\t\tx = (0.5 * viewport.width) + radius;\n\t\t\t\t}\n\t\t\t\treturn [x,y,z]\n\t\t\t}\n\t\t\treturn null\n\t\t})\n\t}, [viewport])\n\n\tconst isOrbIntersecting = useCallback(() => {\n\t\treturn !subscribeActive && orbMovingState !== 'out' ? isSphereIntersectingBox(orbMaskSphereBbox.current, textBbox1.current) || isSphereIntersectingBox(orbMaskSphereBbox.current, subscribeBbox.current) || isSphereIntersectingBox(orbMaskSphereBbox.current, textBbox2.current) || isSphereIntersectingBox(orbMaskSphereBbox.current, textBbox3.current) : false\n\t}, [isSphereIntersectingBox, subscribeActive, orbMovingState])\n\n\tuseEffect(() => {\n\t\tplaceInstructions();\n\t}, [placeInstructions])\n\n\tuseEffect(() => {\n\t\tcomputeBoundingAreas();\n\t\t\n\t\tsubscribeBbox.current.setFromObject(subscribeRef.current);\n\t\t\n\t\tupdateOrbMaskSphereBboxRadius()\n\t\tupdateOrbMaskSphereBboxCenter();\n\t}, [computeBoundingAreas, updateOrbMaskSphereBboxRadius, updateOrbMaskSphereBboxCenter])\n\n\tuseEffect(() => {\n\t\tsetOrbMovingState(() => 'to');\n\t\tsetOrbPosition(() => orbPositions[chapterIndex].pre);\n\t\ttextBbox1.current.setFromObject(textRef1.current);\n\t\ttextBbox2.current.setFromObject(textRef2.current);\n\t\ttextBbox3.current.setFromObject(textRef3.current);\n\t}, [chapterIndex, setOrbMovingState, orbPositions])\n\n\tuseEffect(() => {\n\t\tif (viewport.width > 900 && viewport.width < 1280) {\n\t\t\tsetOrbScale(() => [1,1,1])\n\t\t\tupdateOrbMaskSphereBboxRadius();\n\t\t} else {\n\t\t\tsetOrbScale(() => [1.2, 1.2, 1.2])\n\t\t\tupdateOrbMaskSphereBboxRadius();\n\t\t}\n\t}, [viewport, updateOrbMaskSphereBboxRadius])\n\n\tuseEffect(() => {\n\t\tif (orbMovingState === 'out') {\n\t\t\tmoveOut();\n\t\t\tresetPointer();\n\t\t} else if (orbMovingState === 'at_threshold') {\n\t\t\tsetOrbOpacity(() => 0);\n\t\t} else if (orbMovingState === 'to') {\n\t\t\tsetOrbOpacity((prev) => {\n\t\t\t\tif (prev === 0) {\n\t\t\t\t\treturn 1\n\t\t\t\t}\n\t\t\t\treturn prev\n\t\t\t})\n\t\t}\n\t}, [orbMovingState, moveOut, resetPointer])\n\n\tuseEffect(() => {\n\t\tif (subscribeActive) {\n\t\t\tsetOrbMovingState(() => 'subscribe')\n\t\t} else {\n\t\t\tsetOrbOpacity(prev => {\n\t\t\t\tif (prev === 0) {\n\t\t\t\t\treturn 1\n\t\t\t\t}\n\t\t\t\treturn prev\n\t\t\t})\n\t\t}\n\t}, [subscribeActive, setOrbMovingState])\n\n\tuseEffect(() => {\n\t\tsetOrbMovingState((prev) => {\n\t\t\tif (prev === 'subscribe' && orbHold === true) {\n\t\t\t\treturn 'subscribe_hold'\n\t\t\t} else if (prev === 'subscribe_hold' && orbHold === false) {\n\t\t\t\treturn 'subscribe'\n\t\t\t}\n\t\t\treturn prev\n\t\t})\n\t}, [orbHold, setOrbMovingState])\n \n\tuseFrame(() => {\n\t\tif (orbRef.current !== null) {\n\t\t\t// console.log(orbRef.current.position);\n\t\t\tautoRotateOrb(0.001);\n\n\t\t\t// update the orbMaskSphereBbox to the position of the orbMask\n\t\t\tupdateOrbMaskSphereBboxCenter();\n\n\t\t\t// calculate what side or is closest to\n\t\t\tclosestSide.current = getClosestSide();\n\n\t\t\t// logic for orb movement\n\t\t\tif (!isOrbIntersecting()) {\n\t\t\t\tsetIsIntersecting(() => false)\n\t\t\t\tpreviousPosition.current = [orbRef.current.position.x, orbRef.current.position.y, orbRef.current.position.z]\n\t\t\t\tif (orbMovingState === 'subscribe') {\n\t\t\t\t\tsetOrbPosition(() => {\n\t\t\t\t\t\tsubscribePosition.current = [viewport.width < 1280 ? -220 : -260, 0, 0];\n\t\t\t\t\t\treturn [viewport.width < 1280 ? -220 : -260, 0, 0]\n\t\t\t\t\t})\n\t\t\t\t\tsetScrollIndicatorHeight((prev) => {\n\t\t\t\t\t\tif (orbRef.current !== null) {\n\t\t\t\t\t\t\tif (subscribePosition.current[1] - orbRef.current.position.y === 0) {\n\t\t\t\t\t\t\t\tconst maxHeight = 49;\n\t\t\t\t\t\t\t\tconst x1 = subscribePosition.current[0];\n\t\t\t\t\t\t\t\tconst currentX = orbRef.current.position.x;\n\t\t\t\t\t\t\t\tlet percentage = 0\n\t\t\t\t\t\t\t\tif (currentX !== null) {\n\t\t\t\t\t\t\t\t\tpercentage = Math.abs(x1 - currentX) / Math.abs(x1)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn percentage * maxHeight\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn prev\n\t\t\t\t\t})\n\t\t\t\t} else if (orbMovingState === 'resting') {\n\t\t\t\t\tsetOrbPosition((prev) => {\n\t\t\t\t\t\tif (orbMovingState === 'resting') {\n\t\t\t\t\t\t\tif (pointerPosition[0] !== null && pointerPosition[1] !== null) return getTranslatedPointerPosition();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn prev\n\t\t\t\t\t})\n\t\t\t\t} else if (orbMovingState === 'in') {\n\t\t\t\t\tsetOrbPosition((prev) => {\n\t\t\t\t\t\t\tif (pointerPosition[0] !== null && pointerPosition[1] !== null) {\n\t\t\t\t\t\t\t\tsetOrbMovingState(() => 'resting');\n\t\t\t\t\t\t\t\treturn getTranslatedPointerPosition();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\treturn prev\n\t\t\t\t\t})\n\t\t\t\t} else if (orbMovingState === 'subscribe_hold') {\n\t\t\t\t\tsetOrbPosition(() => [0, 0, 0])\n\t\t\t\t\t// get percentage of travel\n\t\t\t\t\tsetScrollIndicatorHeight((prev) => {\n\t\t\t\t\t\tif (orbRef.current !== null) {\n\t\t\t\t\t\t\t// percentage is 100 when origin is atleast 10 units away from origin\n\t\t\t\t\t\t\tif (subscribePosition.current[1] - orbRef.current.position.y === 0) {\n\t\t\t\t\t\t\t\tconst maxHeight = 49;\n\t\t\t\t\t\t\t\tconst x1 = subscribePosition.current[0];\n\t\t\t\t\t\t\t\tconst currentX = orbRef.current.position.x;\n\t\t\t\t\t\t\t\tlet percentage = 0\n\t\t\t\t\t\t\t\tif (currentX !== null) {\n\t\t\t\t\t\t\t\t\tpercentage = Math.abs(x1 - currentX) / Math.abs(x1)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// automator\n\t\t\t\t\t\t\t\tif (percentage === 1) {\n\t\t\t\t\t\t\t\t\t// atHoldThresholdAutomator();\n\t\t\t\t\t\t\t\t\tsetOrbMovingState(() => 'at_threshold');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn percentage * maxHeight\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn prev\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetIsIntersecting(() => true)\n\t\t\t\tsetOrbPosition(() => previousPosition.current)\n\t\t\t}\n\t\t}\n\t})\t\n\t\n\treturn (\n\t\t<>\n\t\t\t<group\n\t\t\t>\n\t\t\t\t<a.mesh\n\t\t\t\t\tonPointerDown={() => setOrbHold((prev) => {\n\t\t\t\t\t\tif (orbMovingState === 'subscribe' || orbMovingState === 'subscribe_hold') return true\n\t\t\t\t\t\treturn prev\n\t\t\t\t\t})}\n\t\t\t\t\tonPointerUp={() => setOrbHold((prev) => {\n\t\t\t\t\t\tif (orbMovingState === 'subscribe' || orbMovingState === 'subscribe_hold') return false\n\t\t\t\t\t\treturn prev\n\t\t\t\t\t})}\n\t\t\t\t\tref={orbMask}\n\t\t\t\t\tscale={orbScale}\n\t\t\t\t\tposition={position}\n\t\t\t\t>\n\t\t\t\t\t<sphereBufferGeometry\n\t\t\t\t\t\tattach='geometry'\n\t\t\t\t\t\targs={[200, 32, 32, 0, 2*Math.PI, 0, Math.PI]}\n\t\t\t\t\t/>\n\t\t\t\t\t<meshBasicMaterial\n\t\t\t\t\t\tattach='material'\n\t\t\t\t\t\t// color=\"blue\"\n\t\t\t\t\t\ttransparent={true}\n\t\t\t\t\t\topacity={0}\n\t\t\t\t\t\tside={DoubleSide}\n\t\t\t\t\t/>\n\t\t\t\t</a.mesh>\n\t\t\t\t<a.points\n\t\t\t\t\tonPointerDown={() => setOrbHold(() => true)}\n\t\t\t\t\tonPointerUp={() => setOrbHold(() => false)}\n\t\t\t\t\tref={orbRef}\n\t\t\t\t\tscale={orbScale}\n\t\t\t\t\tposition={position}\n\t\t\t\t\t// opacity={orbAnimationProps.opacity}\n\t\t\t\t>\t\n\t\t\t\t\t<geometry\n\t\t\t\t\t\tattach='geometry'\n\t\t\t\t\t\tvertices={vertices}\n\t\t\t\t\t/>\n\t\t\t\t\t<a.pointsMaterial\n\t\t\t\t\t\tattach='material'\n\t\t\t\t\t\tcolor={new THREE.Color(0xCC37CC)}\n\t\t\t\t\t\tsize={2.5}\n\t\t\t\t\t\ttransparent={transparent}\n\t\t\t\t\t\topacity={opacity}\n\t\t\t\t\t/>\n\t\t\t\t</a.points>\n\t\t\t</group>\n\t\t\t<group>\n\t\t\t\t<mesh\n\t\t\t\t\tref={textRef1}\n\t\t\t\t\tposition={rectPositions.current[chapterIndex].textRef1.position}\n\t\t\t\t>\n\t\t\t\t\t<boxGeometry\n\t\t\t\t\t\tattach=\"geometry\"\n\t\t\t\t\t\targs={rectPositions.current[chapterIndex].textRef1.geometry}\n\t\t\t\t\t/>\n\t\t\t\t\t<meshBasicMaterial \n\t\t\t\t\t\tattach=\"material\"\n\t\t\t\t\t\t// color=\"blue\"\n\t\t\t\t\t\ttransparent={true}\n\t\t\t\t\t\topacity={0}\n\t\t\t\t\t/>\n\t\t\t\t</mesh>\n\t\t\t\t<mesh\n\t\t\t\t\tref={textRef2}\n\t\t\t\t\tposition={rectPositions.current[chapterIndex].textRef2.position}\n\t\t\t\t>\n\t\t\t\t\t<boxGeometry\n\t\t\t\t\t\tattach=\"geometry\"\n\t\t\t\t\t\targs={rectPositions.current[chapterIndex].textRef2.geometry}\n\t\t\t\t\t/>\n\t\t\t\t\t<meshBasicMaterial \n\t\t\t\t\t\tattach=\"material\"\n\t\t\t\t\t\t// color=\"blue\"\n\t\t\t\t\t\ttransparent={true}\n\t\t\t\t\t\topacity={0}\n\t\t\t\t\t/>\n\t\t\t\t</mesh>\n\t\t\t\t<mesh\n\t\t\t\t\tref={textRef3}\n\t\t\t\t\tposition={rectPositions.current[chapterIndex].textRef3.position}\n\t\t\t\t>\n\t\t\t\t\t<boxGeometry\n\t\t\t\t\t\tattach=\"geometry\"\n\t\t\t\t\t\targs={rectPositions.current[chapterIndex].textRef3.geometry}\n\t\t\t\t\t/>\n\t\t\t\t\t<meshBasicMaterial \n\t\t\t\t\t\tattach=\"material\"\n\t\t\t\t\t\t// color=\"blue\"\n\t\t\t\t\t\ttransparent={true}\n\t\t\t\t\t\topacity={0}\n\t\t\t\t\t/>\n\t\t\t\t</mesh>\n\t\t\t\t<mesh\n\t\t\t\t\tref={subscribeRef}\n\t\t\t\t\tposition={[0, -viewport.height / 2 + 135, 0]}\n\t\t\t\t>\n\t\t\t\t\t<boxGeometry\n\t\t\t\t\t\tattach=\"geometry\"\n\t\t\t\t\t\targs={[280, 50, 0]}\n\t\t\t\t\t/>\n\t\t\t\t\t<meshBasicMaterial \n\t\t\t\t\t\tattach=\"material\"\n\t\t\t\t\t\t// color=\"blue\"\n\t\t\t\t\t\ttransparent={true}\n\t\t\t\t\t\topacity={0}\n\t\t\t\t\t/>\n\t\t\t\t</mesh>\n\t\t\t</group>\t\t\t\n\t\t</>\n\t)\n\t\n}\n\t\n","import React, {\n\tFunctionComponent,\n\t// useContext,\n\t// useState,\n} from 'react';\nimport { useSpring, animated } from 'react-spring';\n\n// import { ViewportContext } from '../context/viewportContext';\n// import * as THREE from 'three'\n\ninterface DesktopInstructionsProps {\n\tinstructionPosition: [number, number] | null\n\tinstructionActive: boolean\n\torbHold: boolean\n\t// setOrbHold: React.Dispatch<React.SetStateAction<boolean>>\n}\n\nexport const DesktopInstructions: FunctionComponent<DesktopInstructionsProps> = ({\n\tinstructionPosition,\n\tinstructionActive,\n\torbHold\n}) => {\n\t// obtain viewport dimensions and use this to determine sbuscribe center position and to calc instruction position\n\t// [-220, 0, 0] for screens 900 -> 1279, [-260, 0, 0] for screens 1280+\n\n\t// const { currentDeviceWidth, currentDeviceHeight } = useContext(ViewportContext);\n\t// const [center, setCenter] = useState<[number, number, number]>(currentDeviceWidth < 1280 ? [-220, 0 , 0] : [-260, 0, 0]);\n\t// const [htmlPosition, htmlPosition] = useState<[number, number] | null>(null);\n\n\t// const getHTMLPosition = useCallback(() => {\n\t// \t// translate normalized 2D threejs coord to html position\n\t// \t// project center to camera\n\t// \t// const normalizedCenter = THREE.Vector3.\n\t// \tconst \n\t// }, [])\n\t\n\t// const getConfig = (key: string) => {\n\t// \tif (key === 'opacity') {\n\t// \t\treturn {\n\t// \t\t\tmass: 2,\n\t// \t\t\tfriction: 2,\n\t// \t\t\tclamp: true\n\t// \t\t}\n\t// \t} else if (['top', 'left'].includes(key)) {\n\t// \t\treturn {\n\t// \t\t\tduration: 300\n\t// \t\t}\n\t// \t}\n\t// }\n\t\n\tconst instructionProps = useSpring({\n\t\topacity: instructionActive ? orbHold ? 0 : 1 : 0,\n\t\tvisibility: instructionActive ? 'visible' : 'hidden',\n\t\ttop: instructionPosition ? instructionPosition[1] : '',\n\t\tleft: instructionPosition ? instructionPosition[0] : '',\n\t\t// config: key => getConfig(key)\n\t\t// delay: (key: string) => key === 'opacity' ? 400 : undefined\n\t\t// delay: (key) => key === 'opacity' \n\t\tconfig: {\n\t\t\tmass: 1,\n\t\t\tfriction: 1,\n\t\t\tclamp: true,\n\t\t},\n\t})\n\n\t\n\n\treturn (\n\t\t<animated.div\n\t\t\tclassName=\"DesktopInstructions\"\n\t\t\t// style={{\n\t\t\t// \tposition: 'absolute',\n\t\t\t// \ttop: instructionPosition ? instructionPosition[1] : '',\n\t\t\t// \tleft: instructionPosition ? instructionPosition[0] : ''\n\t\t\t// }}\n\t\t\tstyle={instructionProps}\n\t\t>\n\t\t\t<div className=\"hold-icon\">\n\t\t\t\t<img src=\"../assets/holdicon_white.svg\" alt=\"Press and hold to learn more about Andy Mag\"/>\n\t\t\t\t<p>Press and hold orb to go back</p>\n\t\t\t</div>\n\t\t</animated.div>\n\t)\n}","import\n\tReact,\n\t{\n\t\tFunctionComponent,\n\t\tuseState,\n\t\tuseRef,\n\t\tuseEffect\n\t}\nfrom 'react';\nimport { useSpring, animated } from 'react-spring';\n\ninterface DesktopEmailProps {\n\temailActive: boolean\n\torbHold: boolean\n}\n\nexport const Email: FunctionComponent<DesktopEmailProps> = ({\n\temailActive,\n\torbHold\n}) => {\n\tlet [success, setSuccess] = useState<Boolean | null>(null);\n\tlet [email, setEmail] = useState<string | undefined>('')\n\tlet [inputFocus, setInputFocus] = useState<boolean>(false);\n\tlet [message, setMessage] = useState<string | null>(null);\n\tlet [processing, setProcessing] = useState<boolean>(false);\n\n\tconst emailDiv = useRef<HTMLDivElement | null>(null);\n\tconst formRef = useRef<HTMLFormElement>(null);\n\tconst emailRef = useRef<HTMLInputElement>(null);\n\n\tconst emailDivProps = useSpring({\n\t\topacity: orbHold ? 0 : 1,\n\t\tvisibility: orbHold ? 'hidden' : 'visible',\n\t\tconfig: {\n\t\t\tmass: 2,\n\t\t\tfriction: 2,\n\t\t\tclamp: true\n\t\t}\n\t})\n\n\tuseEffect(() => {\n\t\tif (!emailActive) {\n\t\t\tsetEmail(() => '')\n\t\t\tsetInputFocus(() => false)\n\t\t\treset();\n\t\t}\n\t}, [emailActive])\n\n\t// const submitHandler = (e:any) => {\n\t// \te.preventDefault();\n\t// \t// const url = `${process.env.REACT_APP_DEV_SERVER}/subscribe`;\n\t// \tconst url = process.env.REACT_APP_DEV_SERVER + '/subscribe';\n\t// \tconst body = { email }\n\t// \tconst options = {\n\t// \t\tmethod: 'POST',\n\t// \t\theaders: {\n\t// \t\t\t'Content-Type': 'application/json; charset=utf-8',\n\t// \t\t},\n\t// \t\tbody: JSON.stringify(body),\n\t// \t}\n\n\t// \t// will have to include logic that handles specific errors (duplicate emails, failure to fetch, etc.)\n\t// \tfetch(url, options)\n\t// \t.then(res => res.json())\n\t// \t.then(data => {\n\t// \t\tconsole.log(data);\n\t// \t\tdata.statusCode === 202 ? setSuccess(true) : setSuccess(false);\n\t// \t})\n\t// \t.catch(error => console.log(error))\n\t// }\n\n\tconst reset = () => {\n\t\tsetMessage(() => null);\n\t\tsetSuccess(() => null);\n\t\tsetProcessing(() => false);\t\n\t\t// setEmail()\n\t}\n\n\tconst submitHandler = (e:any) => {\n\t\t// do nothing if successs\n\t\te.preventDefault();\n\t\tif (!inputFocus) {\n\t\t\temailRef.current?.focus();\n\t\t\treturn\n\t\t}\n\t\tif (!success && !processing) {\n\t\t\temailRef.current?.blur();\n\t\t\treset();\n\t\t\tconst url = process.env.REACT_APP_EMAIL_URL ? process.env.REACT_APP_EMAIL_URL : null;\n\t\t\tconst options: any = {\n\t\t\t\tmethod: 'POST',\n\t\t\t\t// mode: 'no-cors',\n\t\t\t\t// headers: {\n\t\t\t\t// \t'Content-Type': 'application/json; charset=utf-8',\n\t\t\t\t// },\n\t\t\t\tbody: formRef.current ? new FormData(formRef.current) : null,\n\t\t\t}\n\t\n\t\t\tif (url && !processing) {\n\t\t\t\tsetProcessing(() => true);\n\t\t\t\tfetch(url, options)\n\t\t\t\t.then(res => {\n\t\t\t\t\treturn res.json()\n\t\t\t\t})\n\t\t\t\t.then(data => {\n\t\t\t\t\tif (data.result === 'success') {\n\t\t\t\t\t\tsetSuccess(() => true);\n\t\t\t\t\t\tsetMessage(() => data.message);\n\t\t\t\t\t} else if (data.result === 'error') {\n\t\t\t\t\t\tsetSuccess(() => false);\n\t\t\t\t\t\tsetMessage(() => data.error);\n\t\t\t\t\t}\n\t\t\t\t\tsetProcessing(() => false);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetSuccess(() => false);\n\t\t\t\t\tsetMessage(() => 'An error occurred please try again.')\n\t\t\t\t\tsetProcessing(() => false);\n\t\t\t\t\t// console.log(error)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<animated.div\n\t\t\t// className='DesktopEmail grid'\n\t\t\tclassName={`DesktopEmail grid${emailActive ? ' active' : ''}`}\n\t\t\tref={emailDiv}\n\t\t\tstyle={emailDivProps}\n\t\t>\n\t\t\t<form\n\t\t\t\tonSubmit={submitHandler}\n\t\t\t\t// className={success ? 'desktopEmailWrapper Email success' : (success === 'false' ? 'desktopEmailWrapper Email fail' : 'desktopEmailWrapper Email')}\n\t\t\t\tclassName={`desktopEmailWrapper Email${success ? ' success' : ''}${inputFocus ? ' focused' : ''}`}\n\t\t\t\tref={formRef}\n\t\t\t>\n\t\t\t\t<span>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<h3>STAY UPDATED WITH THE</h3>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<span>\n\t\t\t\t\t<span style={{ transitionDelay: '0.05s'}}>\n\t\t\t\t\t\t<h3>ANDY MAG NEWSLETTER</h3>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<label>\n\t\t\t\t\t<h4>{ success ? 'Subscribed' : 'Email' }</h4>\n\t\t\t\t</label>\n\t\t\t\t{/* { inputFocus ? <img className=\"submitIcon\" src=\"../assets/paper_plane_purple.svg\" alt=\"Submit\" /> : <img className=\"submitIcon\" src=\"../assets/paper_plane_white.svg\" alt=\"Submit\" /> } */}\n\t\t\t\t{ !processing ?\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"submitIcon\"\n\t\t\t\t\t\twidth=\"20px\"\n\t\t\t\t\t\theight=\"13px\"\n\t\t\t\t\t\tviewBox=\"0 0 20 13\"\n\t\t\t\t\t\tversion=\"1.1\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tif (emailRef.current && formRef.current) {\n\t\t\t\t\t\t\t\tif (emailRef.current.checkValidity()) {\n\t\t\t\t\t\t\t\t\tformRef.current.dispatchEvent(new Event('submit'))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<g id=\"Desktop-v2\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n\t\t\t\t\t\t\t<g id=\"SIGN-UP\" transform=\"translate(-949.000000, -420.000000)\" fill={success ? '#47C34A' : inputFocus ? '#C247C3' : '#FFFFFF'} fill-rule=\"nonzero\">\n\t\t\t\t\t\t\t\t<g id=\"Group-3\" transform=\"translate(668.000000, 292.000000)\">\n\t\t\t\t\t\t\t\t\t<g id=\"no-box-form\" transform=\"translate(0.000000, 99.000000)\">\n\t\t\t\t\t\t\t\t\t\t<g id=\"Button\" transform=\"translate(10.000000, 20.000000)\">\n\t\t\t\t\t\t\t\t\t\t\t<g id=\"paper-plane\" transform=\"translate(271.000000, 9.000000)\">\n\t\t\t\t\t\t\t\t\t\t\t\t<path d=\"M19.6680356,0.0140867358 C13.2544664,1.37157965 6.88203906,2.71983792 0.479898134,4.07271351 C0.171333684,4.13735603 -0.0412329379,4.22508517 0.00676597665,4.26664107 C0.0410509156,4.29665367 0.0661932041,4.31974029 0.0936211553,4.34051824 C1.51758895,5.45791037 2.93927109,6.5753025 4.36781021,7.6880773 C4.49580731,7.78734974 4.5392349,7.88662218 4.53694924,8.04361116 C4.52780659,9.56271037 4.52780659,11.0841183 4.52552093,12.6032175 L4.52552093,12.7625151 C4.52552093,12.8502442 4.73808755,12.7786757 5.00093875,12.6032175 C5.92206077,11.9868049 7.51288194,10.9363639 8.4317183,10.3199513 C9.46255213,11.0702663 10.500243,11.8228899 11.5539334,12.5870568 C11.8099276,12.7717498 12.152777,12.7071072 12.321916,12.4369938 C14.8544302,8.41761431 17.375516,4.41901273 19.9217442,0.381163902 C20.0908832,0.113359177 19.9766001,-0.050555784 19.6680356,0.0140867358 Z M17.4509429,1.73865682 C17.3000892,1.83792926 17.1469498,1.9372017 16.9938104,2.03416548 C13.7961684,4.09580013 10.5985264,6.15512612 7.4054558,8.22137809 C7.26603038,8.31141588 7.13803327,8.44762691 7.05346376,8.59307258 C6.53004702,9.46805526 6.02262993,10.3522726 5.50835584,11.2341812 C5.48778488,11.2688112 5.46721392,11.3011324 5.44435729,11.3334537 C5.40778669,11.3888616 5.37799566,11.174156 5.37799566,10.8555608 L5.37799566,9.11021274 C5.37799566,8.64848045 5.38721573,8.18674817 5.37799566,7.72501588 C5.37578741,7.56802691 5.42378633,7.48722376 5.56549741,7.42027258 C7.32088628,6.56606785 9.07170383,5.70262848 10.824807,4.84380643 C13.1058983,3.72410564 15.3892752,2.60671351 17.6726522,1.48932138 C17.7092228,1.47085209 17.7457934,1.45469146 17.7869353,1.44545682 C17.8486482,1.43160485 17.7023658,1.57474186 17.4509429,1.73865682 Z\" id=\"Shape\"></path>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</svg> : \n\t\t\t\t\t<div className=\"dot-wrap\"><div className=\"dot-flashing\"></div></div>\n\t\t\t\t}\n\t\t\t\t<input\n\t\t\t\t\tref={emailRef}\n\t\t\t\t\tonFocus={() => {\n\t\t\t\t\t\tif (!processing) reset();\n\t\t\t\t\t\tsetInputFocus(() => true);\n\t\t\t\t\t}}\n\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\tif (email === undefined || email.length < 1) setInputFocus(() => false)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\tname=\"Email\"\n\t\t\t\t\tvalue={email}\n\t\t\t\t\tonChange={(e:any) => {\n\t\t\t\t\t\tconst target = e.target;\n\t\t\t\t\t\tsetEmail(() => target.value)\n\t\t\t\t\t}}\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t{ !success && \n\t\t\t\t\t<div className=\"Error\">\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{ message }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</form>\n\t\t\t{/* <div className=\"hold-icon\">\n\t\t\t\t<img src=\"../assets/holdicon_white.svg\" alt=\"Press and hold to learn more about Andy Mag\"/>\n\t\t\t\t<p>Press and hold to go back</p>\n\t\t\t</div> */}\n\t\t</animated.div>\n\t\t\n\t)\n}","import\n\tReact,\n\t{\n\t\tFunctionComponent,\n\t\tuseState,\n\t\tuseRef,\n\t\tuseEffect,\n\t\tuseCallback,\n\t} \nfrom 'react';\nimport { useSpring, animated } from 'react-spring';\nimport { Canvas } from 'react-three-fiber';\n\nimport { DesktopText } from './DesktopText';\n// import { DesktopOrb } from './DesktopOrb';\nimport { Orb } from './DesktopOrb3';\nimport { DesktopInstructions } from './DesktopInstructions'\nimport { Email } from './DesktopEmailForm';\n\ninterface OrbState {\n\torb_position: [number, number, number],\n\tmove_state: 'out' | 'in' | 'to' | 'rest',\n}\n\nexport const DesktopApp: FunctionComponent = () => {\n\tlet [chapterIndex, setChapterIndex] = useState<number>(0);\n\tlet [backgroundColor, setBackgroundColor] = useState<string>('#D695AB')\n\tlet [subscribeActive, setSubscribeActive] = useState<boolean>(false);\n\tlet [emailActive, setEmailActive] = useState<boolean>(false);\n\tlet [buttonShadow, setButtonShadow] = useState<string>('1px 2px 7px 0px rgba(189, 132, 151, 1), -1px -2px 7px rgba(246, 169, 195, 1)')\n\tconst scrollIndicatorPositions = useRef<number[]>([0, 9, 18, 26]);\n\tlet [scrollIndicatorPosition, setScrollIndicatorPosition] = useState<number>(scrollIndicatorPositions.current[0])\n\tlet [scrollIndicatorHeight, setScrollIndicatorHeight] = useState<number>(0);\n\tlet [canvasViewport, setCanvasViewport] = useState<{width: number, height: number, factor: number} | null>(null)\n\tlet [orbMovingState, setOrbMovingState] = useState<'out' | 'resting' | 'to' | 'intersecting' | 'in' | 'subscribe' | 'subscribe_hold' | 'at_threshold'>('resting')\n\tlet [orbHold, setOrbHold] = useState<boolean>(false);\n\tlet [pointerPosition, setPointerPosition] = useState<[number | null, number | null]>([null, null])\n\n\tlet [instructionPosition, setInstructionPosition] = useState<[number, number] | null>(null); \n\tlet [instructionActive, setInstructionActive] = useState<boolean>(false);\n\n\tlet wheelThreshold = useRef<number>(40);\n\tlet containerRef = useRef<HTMLDivElement>(null);\n\n\tconst scrollIndicatorAnimate = useSpring({\n\t\t// top: subscribeActive ? 'auto' : scrollIndicatorPosition,\n\t\ttop: !subscribeActive ? scrollIndicatorPosition : 'auto',\n\t\tbottom: subscribeActive ? 1 : 'auto',\n\t\theight: subscribeActive ? scrollIndicatorHeight : 19,\n\t\tconfig: { clamp: true },\n\t\tbackgroundColor: !subscribeActive ? 'black' : 'white',\n\t\t// immediate: (key: string) => key === 'height' && subscribeActive,\n\t\t// opacity: subscribeActive ? 0 : 1,\n\t\t// top: scrollIndicatorPosition,\n\t\t// bottom: 'auto',\n\t\t// height: 19,\n\t\t// config: { clamp: true },\n\t\t// backgroundColor: 'black',\n\t})\n\n\t// const subscribeIndicatorAnimate = useSpring({\n\t// \topacity: subscribeActive ? 1 : 0,\n\t// \ttop: 'auto',\n\t// \theight: scrollIndicatorHeight,\n\t// \tbottom: 1,\n\t// \tbackgroundColor: 'white',\n\t// \tconfig: { clamp: true }\n\t// })\n\n\t// const instructionsProps = useSpring({\n\t// \topacity: orbHold ? 0 : 1\n\t// })\n\n\tuseEffect(() => {\n\t\tsetScrollIndicatorPosition(() => scrollIndicatorPositions.current[chapterIndex])\n\t}, [chapterIndex])\n\n\tconst resetPointer = useCallback(() => {\n\t\tsetPointerPosition(() => [null, null])\n\t}, [])\n\n\tconst subscribeButtonProps = useSpring({\n\t\topacity: subscribeActive ? 0 : 1,\n\t\tconfig: {\n\t\t\tmass: 1,\n\t\t\tfriction: 4,\n\t\t\tclamp: true,\n\t\t}\n\t})\n\n\treturn (\n\t\t<div\n\t\t\tref={containerRef}\n\t\t\tclassName=\"DesktopAnimation\"\n\t\t\tstyle={{\n\t\t\t\tbackgroundColor: backgroundColor\n\t\t\t}}\n\t\t\tonPointerMove={(e) => {\n\t\t\t\tconst {\n\t\t\t\t\tclientX,\n\t\t\t\t\tclientY\n\t\t\t\t} = e;\n\t\t\t\tsetPointerPosition(() => {\n\t\t\t\t\treturn [clientX, clientY]\n\t\t\t\t})\n\t\t\t}}\n\t\t>\n\t\t\t<Canvas\n\t\t\t\tclassName=\"Orb\"\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: 'absolute'\n\t\t\t\t}}\n\t\t\t\torthographic\n\t\t\t\tcamera={{\n\t\t\t\t\tleft: canvasViewport ? -canvasViewport.width / 2 : undefined,\n\t\t\t\t\tright: canvasViewport ? canvasViewport.width / 2 : undefined,\n\t\t\t\t\ttop: canvasViewport ? canvasViewport.height / 2 : undefined,\n\t\t\t\t\tbottom: canvasViewport ? -canvasViewport.height / 2 : undefined,\n\t\t\t\t\tnear: 300,\n\t\t\t\t\tfar: -300\n\t\t\t\t}}\n\t\t\t>\t\n\t\t\t\t<Orb\n\t\t\t\t\tsetInstructionActive={setInstructionActive}\n\t\t\t\t\tsetInstructionPosition={setInstructionPosition}\n\t\t\t\t\tsetBackgroundColor={setBackgroundColor}\n\t\t\t\t\tsetButtonShadow={setButtonShadow}\n\t\t\t\t\tsetChapterIndex={setChapterIndex}\n\t\t\t\t\tsetScrollIndicatorHeight={setScrollIndicatorHeight}\n\t\t\t\t\torbHold={orbHold}\n\t\t\t\t\tsetOrbHold={setOrbHold}\n\t\t\t\t\tsetEmailActive={setEmailActive}\n\t\t\t\t\tpointerPosition={pointerPosition}\n\t\t\t\t\tchapterIndex={chapterIndex}\n\t\t\t\t\torbMovingState={orbMovingState}\n\t\t\t\t\tresetPointer={resetPointer}\n\t\t\t\t\tsetOrbMovingState={setOrbMovingState}\n\t\t\t\t\tsubscribeActive={subscribeActive}\n\t\t\t\t\tsetSubscribeActive={setSubscribeActive} />\n\t\t\t</Canvas>\n\t\t\t<div className=\"logo\">\n\t\t\t\t{/* { !subscribeActive ? <img src='../assets/logo.svg' alt='Logo' /> : <img src='../assets/logo_white.svg' alt='Logo' />} */}\n\t\t\t\t<svg width=\"38px\" height=\"50px\" viewBox=\"0 0 38 50\" version=\"1.1\">\n\t\t\t\t\t<title>Group</title>\n\t\t\t\t\t<desc>Created with Sketch.</desc>\n\t\t\t\t\t<g id=\"Mobile-v2\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n\t\t\t\t\t\t<g id=\"LM-Slideshow-1\" transform=\"translate(-26.000000, -25.000000)\" fill={!subscribeActive ? '#000000' : '#FFFFFF'} fill-rule=\"nonzero\">\n\t\t\t\t\t\t\t<g id=\"icon\" transform=\"translate(26.000000, 25.000000)\">\n\t\t\t\t\t\t\t\t<g id=\"Group\" transform=\"translate(19.000000, 24.666667) scale(-1, 1) rotate(-180.000000) translate(-19.000000, -24.666667) translate(0.000000, 0.166667)\">\n\t\t\t\t\t\t\t\t\t<path shape-rendering=\"auto\" d=\"M17.4380922,48.8276173 C17.4288402,48.8036912 13.8187259,38.3111829 5.63906897,14.5258941 C3.04759527,6.98917741 0.923345501,0.816247579 0.920569913,0.807965473 C0.914093542,0.792321495 0.891888841,0.791401261 0.620806444,0.791401261 L0.327519346,0.791401261 L0.163759673,0.401222034 C0.0740156714,0.186807507 0,0.00920234024 0,0.00552140414 C0,0.00276070207 0.736455931,0 1.63759673,0 L3.27519346,0 L3.27519346,0.39570063 L3.27519346,0.791401261 L3.00226067,0.791401261 C2.79039081,0.791401261 2.72932788,0.794161963 2.72932788,0.803364303 C2.72932788,0.816247579 9.58873023,20.6592538 9.59150582,20.6555729 C9.59335621,20.6537324 9.73768677,20.2285843 9.91347399,19.7086521 C10.088336,19.1887199 10.2382178,18.7543694 10.2456193,18.7433266 C10.2530209,18.7313636 10.2705996,18.6871923 10.2844775,18.6439413 C10.2974303,18.6006903 10.3205602,18.5307525 10.3344381,18.4875015 C10.3483161,18.4442505 10.371446,18.3724723 10.3853239,18.3264606 C10.3992018,18.2813691 10.4158554,18.2270753 10.4232569,18.2068302 C10.4297333,18.186585 10.4500876,18.1203282 10.4685915,18.0595927 C10.4870954,17.9988573 10.508375,17.9326004 10.5148513,17.9123553 C10.5222529,17.8921101 10.5453828,17.8194116 10.5657371,17.7513143 C10.5870166,17.683217 10.6101465,17.6105185 10.6166229,17.5902734 C10.6240244,17.5700282 10.6471543,17.4973297 10.6675086,17.4292324 C10.6887882,17.3611351 10.711918,17.2884366 10.7183944,17.2681915 C10.725796,17.2479463 10.7489259,17.1752478 10.7702054,17.1071505 C10.8497722,16.8513254 10.862725,16.8071542 10.8756777,16.7712651 C10.8821541,16.7510199 10.905284,16.6783215 10.9265635,16.6102241 C10.9469178,16.5421268 10.9700477,16.4694283 10.9774493,16.4491832 C10.9839256,16.428938 11.0070555,16.3562395 11.028335,16.2881422 C11.0486894,16.2200449 11.0718193,16.1473464 11.0792208,16.1271013 C11.0856972,16.1068561 11.1088271,16.0341576 11.1301066,15.9660603 C11.1504609,15.897963 11.1735908,15.8252645 11.1809924,15.8050194 C11.1874687,15.7847742 11.2087482,15.7185174 11.2272522,15.6577819 C11.2457561,15.5970465 11.2661104,15.5307896 11.273512,15.5105445 C11.2799883,15.4902993 11.3031182,15.4176008 11.3243977,15.3495035 C11.344752,15.2814062 11.3678819,15.2087077 11.3752835,15.1884626 C11.3817599,15.1682174 11.4048898,15.0955189 11.4261693,15.0274216 C11.4465236,14.9593243 11.4696535,14.8866258 11.4770551,14.8663807 C11.4835314,14.8461355 11.5066613,14.773437 11.5279408,14.7053397 C11.5482951,14.6372424 11.571425,14.5645439 11.5788266,14.5442987 C11.585303,14.5240536 11.6065825,14.4577968 11.6250864,14.3970613 C11.675047,14.2360204 11.7583146,13.9700727 11.7731177,13.927742 C11.7795941,13.9074968 11.802724,13.8347983 11.8240035,13.766701 C11.8443578,13.6986037 11.8674877,13.6259052 11.8748893,13.60566 C11.8813657,13.5854149 11.9044956,13.5127164 11.9257751,13.4446191 C11.9470546,13.3765218 11.9701845,13.3038233 11.9766608,13.2835781 C11.9840624,13.263333 12.0071923,13.1906345 12.0275466,13.1225372 C12.0488261,13.0544399 12.071956,12.9817414 12.0784324,12.9614962 C12.0858339,12.9412511 12.1089638,12.8685526 12.1302434,12.8004553 C12.1515229,12.732358 12.1802039,12.6412548 12.1940819,12.5980038 C12.2209126,12.516103 12.2699479,12.3587429 12.3282353,12.170095 C12.3467392,12.1093595 12.3680187,12.0431027 12.3744951,12.0228575 C12.3818966,12.0026124 12.4050265,11.9299139 12.4253808,11.8618166 C12.4466603,11.7937193 12.4697902,11.7210208 12.4762666,11.7007756 C12.4836682,11.6805305 12.5067981,11.607832 12.5280776,11.5397347 C12.5493571,11.4716373 12.5780382,11.3805342 12.5919161,11.3372832 C12.605794,11.2940322 12.6289239,11.2222539 12.6428019,11.1762422 C12.6566798,11.1311508 12.6733333,11.0768569 12.6798097,11.0566118 C12.6872113,11.0363666 12.7075656,10.9701098 12.7260695,10.9093744 C12.7445734,10.8486389 12.7658529,10.7823821 12.7723293,10.7621369 C12.7797309,10.7418918 12.8028608,10.6691933 12.8232151,10.601096 C12.8444946,10.5329986 12.8676245,10.4603002 12.8741009,10.440055 C12.8815024,10.4198099 12.9046323,10.3471114 12.9249866,10.279014 C12.9462661,10.2109167 12.969396,10.1382182 12.9758724,10.1179731 C12.983274,10.0977279 13.0064039,10.0250295 13.0267582,9.95693214 C13.0480377,9.88883482 13.0711676,9.81613633 13.0776439,9.79589119 C13.0850455,9.77564604 13.1053998,9.70938919 13.1239037,9.64865374 C13.1424077,9.5879183 13.1636872,9.52166145 13.1701635,9.5014163 C13.1775651,9.48117115 13.200695,9.40847266 13.2210493,9.34037534 C13.2423288,9.27227803 13.2654587,9.19957954 13.2719351,9.17933439 C13.2793367,9.15908924 13.3024665,9.08639075 13.3228209,9.01829344 C13.3441004,8.95019612 13.3672303,8.87749763 13.3737066,8.85725248 C13.3811082,8.83700733 13.4042381,8.76430884 13.4245924,8.69621153 C13.4458719,8.62811421 13.4690018,8.55541572 13.4754782,8.53517057 C13.4828797,8.51492542 13.5032341,8.44866857 13.5226632,8.38793313 C13.5855765,8.18456141 13.6198087,8.07505356 13.6327615,8.0382442 C13.6392379,8.01799905 13.6623678,7.94530056 13.6836473,7.87720325 C13.7040016,7.80910593 13.7271315,7.73640744 13.734533,7.71616229 C13.7410094,7.69591714 13.7641393,7.62321865 13.7854188,7.55512134 C13.8057731,7.48702402 13.828903,7.41432553 13.8363046,7.39408038 C13.842781,7.37383523 13.8640605,7.30757838 13.8825644,7.24684294 C13.9010683,7.18610749 13.923273,7.11340901 13.932525,7.08580198 C13.9417769,7.05819496 13.961206,6.99837975 13.975084,6.95236805 C13.9898871,6.90727658 14.0102414,6.84101973 14.0213438,6.80513061 C14.0324461,6.77016171 14.0592768,6.68457995 14.0805563,6.61648263 C14.1018358,6.54838531 14.1249657,6.47568683 14.1323673,6.45544168 C14.1388436,6.43519653 14.1619735,6.36249804 14.183253,6.29440072 C14.2036073,6.22630341 14.2267372,6.15360492 14.2341388,6.13335977 C14.2406152,6.11311462 14.2618947,6.04685777 14.2803986,5.98612233 C14.2989025,5.92538688 14.3211072,5.85268839 14.3312844,5.82508137 C14.3405363,5.79747435 14.3655166,5.71833423 14.3867961,5.65023691 C14.4080756,5.58213959 14.4312055,5.5094411 14.4376819,5.48919595 C14.4450835,5.4689508 14.4682134,5.39625232 14.4894929,5.328155 C14.5107724,5.26005768 14.5394535,5.16895451 14.5533314,5.12570351 C14.5662841,5.08245251 14.5875636,5.01619566 14.598666,4.97846607 C14.6106935,4.94073647 14.6254967,4.89288431 14.6328982,4.87263916 C14.6393746,4.85239401 14.6625045,4.77969552 14.6828588,4.7115982 C14.7041383,4.64350089 14.7272682,4.5708024 14.7337446,4.55055725 C14.7411462,4.5303121 14.7642761,4.45761361 14.7855556,4.38951629 C14.8068351,4.32141898 14.8355161,4.23031581 14.8493941,4.18706481 C14.863272,4.14381381 14.8864019,4.07203556 14.9002799,4.02602385 C14.9141578,3.98093239 14.9372877,3.9082339 14.9511656,3.8649829 C14.9641184,3.8217319 14.9853979,3.75547505 14.9965002,3.71774546 C15.0076026,3.68001586 15.0233309,3.63216369 15.0298073,3.61191854 C15.0362837,3.5916734 15.0594135,3.51897491 15.0806931,3.45087759 C15.1019726,3.38278027 15.1251025,3.31008178 15.1315788,3.28983664 C15.1389804,3.26959149 15.1621103,3.196893 15.1824646,3.12879568 C15.2037441,3.06069836 15.226874,2.98799988 15.2333504,2.96775473 C15.2407519,2.94750958 15.2638818,2.87481109 15.2842362,2.80671377 C15.3055157,2.73861646 15.3286456,2.66591797 15.3351219,2.64567282 C15.3425235,2.62542767 15.3628778,2.55917082 15.3813817,2.49843538 C15.3998856,2.43769993 15.4202399,2.37144308 15.4276415,2.35119793 C15.4341179,2.33095278 15.4572478,2.25825429 15.4785273,2.19015698 C15.4998068,2.12205966 15.5229367,2.04936117 15.5294131,2.02911602 C15.5368146,2.00887087 15.5599445,1.93617239 15.5802988,1.86807507 C15.6015783,1.79997775 15.6247082,1.72727926 15.6311846,1.70703411 C15.6385862,1.68678897 15.6617161,1.61409048 15.6820704,1.54599316 C15.7033499,1.47789584 15.7264798,1.40519735 15.7329562,1.38495221 C15.7403577,1.36470706 15.760712,1.29845021 15.779216,1.23771476 C15.7977199,1.17697932 15.8189994,1.11072247 15.8254757,1.09047732 C15.8319521,1.07023217 15.855082,0.997533682 15.8772867,0.929436364 C15.8985662,0.861339046 15.9300229,0.761953772 15.9466764,0.708580198 C15.9642551,0.655206625 15.9781331,0.606434222 15.9781331,0.600912818 C15.9781331,0.594471179 15.9864598,0.580667669 15.996637,0.570545095 C16.0142157,0.553060648 16.0271685,0.552140414 16.3139792,0.552140414 C16.539727,0.552140414 16.6165182,0.554901116 16.6266954,0.564103457 C16.6414985,0.576066499 16.6461245,0.587109307 16.7229158,0.832811792 C16.7515968,0.92391496 16.7802779,1.01501813 16.7867543,1.03526328 C16.7941558,1.05550843 16.8108094,1.10980223 16.8246873,1.1548937 C16.8385653,1.2009054 16.8552188,1.25427897 16.8616951,1.27452412 C16.8690967,1.29476927 16.889451,1.36102612 16.9079549,1.42176157 C16.9264589,1.48249701 16.9477384,1.54875386 16.9542147,1.56899901 C16.9606911,1.58924416 16.983821,1.66194265 17.0051005,1.73003997 C17.0254548,1.79813728 17.0485847,1.87083577 17.0559863,1.89108092 C17.0624627,1.91132607 17.0855926,1.98402456 17.1068721,2.05212187 C17.1272264,2.12021919 17.1503563,2.19291768 17.1568326,2.21316283 C17.163309,2.23340798 17.1781121,2.28126015 17.1901397,2.31898974 C17.201242,2.35671934 17.2160452,2.4045715 17.2234467,2.42481665 C17.2299231,2.4450618 17.253053,2.51776029 17.2734073,2.58585761 C17.2946868,2.65395493 17.3168915,2.72665341 17.3242931,2.74689856 C17.3307695,2.76714371 17.352049,2.83340056 17.3705529,2.89413601 C17.4399426,3.11959334 17.4788008,3.24474517 17.4908284,3.2806343 C17.5065567,3.32480553 17.5685448,3.52449631 17.6730919,3.86038173 C17.6934463,3.92663858 17.715651,3.99657637 17.7221273,4.01682151 C17.7295289,4.03706666 17.7498832,4.10332351 17.7683871,4.16405896 C17.786891,4.2247944 17.8100209,4.29749289 17.8183477,4.32509991 C17.838702,4.38675559 17.85258,4.43276729 17.9025405,4.59196778 C17.92382,4.6600651 17.9460247,4.73276359 17.9534263,4.75300873 C17.9599027,4.77325388 17.9811822,4.83951073 17.9996861,4.90024618 C18.0311428,5.00515286 18.0570482,5.08521322 18.0829537,5.16711404 C18.0894301,5.18735919 18.11256,5.26005768 18.1338395,5.328155 C18.1541938,5.39625232 18.1773237,5.4689508 18.1847253,5.48919595 C18.1912016,5.5094411 18.2143315,5.58213959 18.2356111,5.65023691 C18.2790953,5.79103271 18.2975992,5.84992769 18.3142527,5.90330126 C18.3207291,5.92354641 18.343859,5.9962449 18.3651385,6.06434222 C18.3854928,6.13243954 18.4086227,6.20513802 18.4160242,6.22538317 C18.4225006,6.24562832 18.4456305,6.31832681 18.46691,6.38642413 C18.5020675,6.50237361 18.5196462,6.55758765 18.6029138,6.82353529 C18.6204925,6.87966956 18.6399217,6.94132524 18.6473232,6.96157039 C18.6537996,6.98181554 18.6704531,7.03610935 18.6843311,7.08120081 C18.698209,7.12721252 18.7213389,7.19899077 18.7352168,7.24224177 C18.7490948,7.28549277 18.7694491,7.35174962 18.7814766,7.38947921 C18.792579,7.42720881 18.8157089,7.50174776 18.8332876,7.55512134 C18.8610435,7.64530427 18.8952757,7.75297165 18.9729922,8.00143484 C18.9905709,8.05756911 19.01,8.11922479 19.0174016,8.13946994 C19.023878,8.15971509 19.0451575,8.22597194 19.0636614,8.28670739 C19.0821653,8.34744283 19.1145471,8.45142928 19.1349015,8.51676589 C19.1552558,8.58302274 19.1867124,8.68240802 19.2042912,8.73762206 C19.2218699,8.79375633 19.241299,8.85541201 19.2487006,8.87565716 C19.2551769,8.89590231 19.2764564,8.96215916 19.2949603,9.02289461 C19.3652752,9.25203288 19.4032083,9.37350377 19.4152358,9.4093929 C19.4226374,9.42963804 19.4457673,9.50233653 19.4670468,9.57043385 C19.4883263,9.63853117 19.5197829,9.73791644 19.5364365,9.79129002 C19.55309,9.84466359 19.5817711,9.93760723 19.600275,9.99834267 C19.6409836,10.1290159 19.6937198,10.2964985 19.7112985,10.3480316 C19.7177749,10.3682767 19.7344284,10.4225706 19.7483063,10.467662 C19.7621843,10.5136737 19.7853142,10.585452 19.7991921,10.628703 C19.81307,10.671954 19.8334244,10.7382108 19.8445267,10.7759404 C19.8565543,10.81367 19.8713574,10.8615222 19.8778338,10.8817673 C19.8843101,10.9020125 19.90744,10.974711 19.9287195,11.0428083 C19.949999,11.1109056 19.9722037,11.1836041 19.9796053,11.2038492 C19.9860817,11.2240944 20.0092116,11.2967929 20.0304911,11.3648902 C20.0517706,11.4329875 20.0749005,11.5075265 20.0823021,11.5305323 C20.0980304,11.580225 20.1452154,11.7302231 20.1979515,11.8986259 C20.2876955,12.1866592 20.3006483,12.2271495 20.3126758,12.2621184 C20.3191522,12.2823635 20.3404317,12.3486204 20.3589356,12.4093558 C20.4292505,12.6384941 20.4671835,12.759965 20.4792111,12.7958541 C20.4866127,12.8160993 20.5097426,12.8887977 20.5300969,12.9568951 C20.5513764,13.0249924 20.5745063,13.0976909 20.5809826,13.117936 C20.592085,13.1501442 20.6216913,13.2449283 20.6799786,13.4354168 C20.6901558,13.4685452 20.7040337,13.5117962 20.7105101,13.5320413 C20.7169864,13.5522865 20.7401163,13.624985 20.7613958,13.6930823 C20.7826753,13.7611796 20.80488,13.8338781 20.8122816,13.8541232 C20.818758,13.8743684 20.8418879,13.9470669 20.8631674,14.0151642 C20.8844469,14.0832615 20.908502,14.1605612 20.9159036,14.1854075 C20.9242303,14.211174 20.9362579,14.2479834 20.9427342,14.2682285 C20.9492106,14.2884737 20.9714153,14.3611722 20.9926948,14.4292695 C21.0139743,14.4973668 21.036179,14.5700653 21.0435806,14.5903105 C21.050057,14.6105556 21.0731869,14.6832541 21.0944664,14.7513514 C21.1157459,14.8194487 21.1388758,14.8939877 21.1462773,14.9169935 C21.1620057,14.9666862 21.2091907,15.1166843 21.2619268,15.2850871 C21.3516708,15.5731204 21.3646236,15.6136107 21.3766511,15.6485796 C21.3886787,15.6853889 21.4266117,15.8105408 21.4700959,15.956858 C21.4830486,16.000109 21.498777,16.0516421 21.5061785,16.0718872 C21.5126549,16.0921324 21.5357848,16.1648309 21.5570643,16.2329282 C21.5783438,16.3010255 21.6014737,16.373724 21.6079501,16.3939691 C21.6144265,16.4142143 21.635706,16.4804711 21.6542099,16.5412066 C21.7245248,16.7703449 21.7624578,16.8918157 21.7744853,16.9277049 C21.7818869,16.94795 21.8050168,17.0206485 21.8262963,17.0887458 C21.9132647,17.3675767 21.9289931,17.4172694 21.9419458,17.4522383 C21.9493474,17.4734036 21.9548985,17.4964095 21.9548985,17.5037714 C21.9548985,17.5120535 21.9734025,17.5553045 21.994682,17.6003959 C22.023363,17.6565302 22.0798,17.8276937 22.1797211,18.1516161 C22.2583628,18.4102019 22.43415,18.9789065 22.5701538,19.4169379 C22.7052324,19.8549693 22.8227323,20.2377867 22.8310591,20.2681544 L22.8458622,20.3224482 L22.8643661,20.2819579 C22.8736181,20.258952 23.0059211,19.9111036 23.1576532,19.5071208 C23.3093853,19.1040583 23.4426135,18.7571301 23.4537159,18.736885 C23.463893,18.7157196 23.4833222,18.6651067 23.4962749,18.6236962 C23.5101528,18.5813654 23.5388339,18.4939432 23.5619638,18.4276863 C23.5841685,18.3623497 23.6276527,18.2316765 23.6591094,18.1378126 C23.6896408,18.0439487 23.7284991,17.9279993 23.7451526,17.8801471 C23.7627313,17.8322949 23.8071407,17.6997812 23.8459989,17.5856722 C23.883932,17.4715632 23.9486957,17.2810747 23.9903295,17.1623645 C24.0310381,17.0436544 24.0856247,16.8862943 24.110605,16.8126756 C24.1346601,16.7390569 24.1873962,16.5881385 24.2253293,16.4767902 C24.2641875,16.3654419 24.3169237,16.2145235 24.3419039,16.1409048 C24.3937149,15.9863055 24.4871597,15.7166769 24.5870809,15.4277234 C24.6259391,15.3163751 24.6777501,15.1654567 24.7027303,15.091838 C24.7277106,15.0182193 24.781372,14.8608593 24.8230058,14.7421491 C24.8646396,14.6234389 24.9164506,14.4725205 24.9386553,14.4062636 C24.96086,14.340927 25.012671,14.1890884 25.0543048,14.0703782 C25.0950134,13.951668 25.1496,13.794308 25.1745802,13.7206893 C25.1986353,13.6470706 25.2513715,13.4961522 25.2893045,13.3848039 C25.3281628,13.2734556 25.3799737,13.1225372 25.4058792,13.0489185 C25.4308595,12.9752997 25.4826705,12.8243814 25.5206035,12.713033 C25.5594617,12.6016847 25.6112727,12.4507663 25.636253,12.3771476 C25.6612333,12.3035289 25.7222962,12.1277642 25.7713316,11.9860482 C25.820367,11.8443321 25.872178,11.6934137 25.8869811,11.6501627 C25.9017842,11.6069117 25.9535952,11.4559934 26.0026306,11.3142773 C26.051666,11.1725613 26.132158,10.9342207 26.1830438,10.7851428 C26.2330043,10.6360648 26.3079452,10.4161289 26.349579,10.2974187 C26.3902877,10.1787085 26.4430238,10.0277902 26.4652285,9.96153331 C26.4874332,9.89619669 26.5392442,9.74435808 26.580878,9.62564789 C26.6225118,9.5069377 26.6761732,9.34957768 26.7011535,9.27595896 C26.7261338,9.20234024 26.7779447,9.05142186 26.8158778,8.94007354 C26.854736,8.82872523 26.9074722,8.67780685 26.9315272,8.60418812 C26.9565075,8.5305694 27.0175705,8.3548047 27.0666058,8.21308866 C27.1628262,7.93517799 27.175779,7.89560793 27.2738497,7.61033538 C27.3099324,7.50634893 27.3728457,7.3241426 27.4135543,7.20543241 C27.4542629,7.08672222 27.5069991,6.93580384 27.5292038,6.86954699 C27.5514085,6.80421037 27.6032195,6.65237176 27.6448533,6.53366157 C27.6864871,6.41495138 27.7382981,6.264033 27.7605028,6.19777615 C27.7827075,6.13243954 27.8345184,5.98060092 27.8761523,5.86189073 C27.9168609,5.74318054 27.9714474,5.58582053 27.9955025,5.5122018 C28.0204828,5.43858308 28.0815457,5.26281838 28.1305811,5.12110234 C28.1796165,4.9793863 28.2314275,4.82846792 28.2462306,4.78521692 C28.2610337,4.74196593 28.304518,4.61589386 28.3433762,4.50454555 C28.3813092,4.39319723 28.4627265,4.15485662 28.5237894,3.97541098 C28.5848523,3.79596535 28.658868,3.57602942 28.6903246,3.48768695 C28.7208561,3.39934448 28.7726671,3.2484261 28.8050489,3.15180153 C28.838356,3.05609719 28.890167,2.90425858 28.9216236,2.81591611 C28.9521551,2.72757365 29.003966,2.57665527 29.0372731,2.48003069 C29.069655,2.38432636 29.1297927,2.20764142 29.1714265,2.08893123 C29.2130603,1.97022105 29.2648713,1.81930267 29.287076,1.75304582 C29.3916231,1.44568765 29.6016426,0.838333196 29.6099694,0.818088047 C29.6145953,0.807045239 29.6108946,0.801523835 29.5951662,0.796922665 C29.5831387,0.794161963 29.37682,0.791401261 29.1362691,0.791401261 L28.6995766,0.791401261 L28.701427,0.397541098 L28.7042026,0.00460117012 L32.9952611,0.00184046805 C36.4240371,0 37.2853945,0.00184046805 37.2853945,0.0110428083 C37.2853945,0.0174844465 37.2298827,0.195089613 37.1614182,0.404902971 L37.037442,0.786800091 L36.6664384,0.791401261 C36.437915,0.794161963 36.2926593,0.799683367 36.2871081,0.805204771 C36.2824821,0.810726175 36.2741554,0.829130856 36.2695294,0.846615302 C36.2639782,0.864099749 36.234372,0.951521981 36.2038405,1.03986445 C36.1723838,1.12820691 36.126124,1.26072061 36.1011437,1.33433933 C36.0761635,1.40795806 36.0308289,1.53863129 36.0012226,1.62421305 C35.9706911,1.71071505 35.9290573,1.83218594 35.9068526,1.89568209 C35.8855731,1.95917824 35.8402385,2.08709077 35.8078566,2.18095464 C35.7754748,2.27481851 35.7134867,2.45518438 35.6709277,2.58125644 C35.6283686,2.70824873 35.5608293,2.90241811 35.5219711,3.01376643 C35.4840381,3.12511475 35.4377783,3.25762844 35.4211248,3.30824132 C35.403546,3.35885419 35.3582114,3.49136789 35.3193532,3.6027162 C35.280495,3.71406452 35.2370108,3.84013658 35.2222076,3.88338758 C35.2074045,3.92663858 35.1694715,4.03430596 35.13894,4.12264843 C35.1084086,4.21099089 35.0621488,4.34350459 35.0371685,4.41712332 C35.0121882,4.49074204 34.9677788,4.6168141 34.9400229,4.69779469 C34.9113418,4.77877529 34.874334,4.88644267 34.8567553,4.93705554 C34.8401017,4.98766841 34.7938419,5.12018211 34.7549837,5.23153043 C34.7170507,5.34287874 34.6726413,5.4689508 34.6578382,5.5122018 C34.643035,5.5554528 34.5995508,5.68152486 34.5606926,5.79287318 C34.4228384,6.18949405 34.3876809,6.29071979 34.3571495,6.38182296 C34.340496,6.43243583 34.2942362,6.56494953 34.2553779,6.67629784 C34.2165197,6.78764616 34.1730355,6.91371822 34.1582324,6.95696922 C34.1434292,7.00022022 34.1064214,7.1078876 34.0749647,7.19623007 C34.0444333,7.28457253 33.9981735,7.41708623 33.9731932,7.49070496 C33.9482129,7.56432368 33.9010279,7.70051831 33.8686461,7.79438218 C33.835339,7.88824605 33.7909296,8.01615858 33.7696501,8.07965473 C33.7474454,8.14315088 33.7048864,8.265542 33.6752801,8.35112377 C33.6456738,8.43762577 33.608666,8.54253244 33.5938629,8.58578344 C33.5790597,8.62903444 33.5355755,8.7551065 33.4967173,8.86645482 C33.4578591,8.97780314 33.4115993,9.11031684 33.3949458,9.16092971 C33.377367,9.21154258 33.348686,9.29620411 33.3292568,9.34957768 C33.3107529,9.40295126 33.2903986,9.46460694 33.2839222,9.48761279 C33.2774459,9.51061864 33.2459892,9.60172181 33.2154578,9.69006427 C33.1840011,9.77840674 33.1368161,9.91552161 33.1090602,9.9937415 C32.9915603,10.3360686 32.9684304,10.4023254 32.9166195,10.5504831 C32.8870132,10.6369851 32.8416786,10.7667381 32.8166983,10.8403568 C32.791718,10.9139755 32.7454582,11.0464892 32.7149268,11.1348317 C32.6843953,11.2231742 32.6464623,11.3308415 32.6316591,11.3740925 C32.616856,11.4173435 32.5733718,11.5434156 32.5345136,11.6547639 C32.4956553,11.7661122 32.4438444,11.9170306 32.4188641,11.9906493 C32.3929586,12.0642681 32.347624,12.1967818 32.3170925,12.2851242 C32.2865611,12.3734667 32.248628,12.4811341 32.2338249,12.5243851 C32.2190218,12.5676361 32.1755376,12.6937081 32.1366793,12.8050564 C32.0978211,12.9164048 32.0515613,13.0489185 32.0349078,13.0995313 C32.0173291,13.1501442 31.9719945,13.2826579 31.9331362,13.3940062 C31.894278,13.5053545 31.8507938,13.6314266 31.8359907,13.6746776 C31.8211875,13.7179286 31.7841797,13.825596 31.752723,13.9139384 C31.7221916,14.0022809 31.6759318,14.1347946 31.6509515,14.2084133 C31.6074673,14.3344854 31.5602823,14.4716003 31.4483336,14.7927619 C31.4224281,14.8691414 31.3798691,14.9906123 31.3548888,15.064231 C31.3299085,15.1378497 31.2836487,15.2703634 31.2531173,15.3587059 C31.0838064,15.8455097 30.9404011,16.2697375 30.8737869,16.4813914 C30.8469563,16.5651327 30.8201256,16.6479537 30.8136492,16.6654382 C30.8062476,16.6829226 30.7905193,16.7307748 30.7775666,16.7712651 C30.732232,16.9111407 30.7239052,16.9369072 30.7155785,16.9553119 C30.7109525,16.9654345 30.6952241,17.0114462 30.6794958,17.0565376 C30.6646927,17.1025493 30.6202833,17.2304619 30.5823502,17.3418102 C30.543492,17.4531585 30.491681,17.6040769 30.4667008,17.6776956 C30.4417205,17.7513143 30.4037874,17.8589817 30.3834331,17.9169564 C30.3621536,17.9749312 30.3399489,18.041188 30.3325474,18.0641939 C30.3251458,18.0871997 30.3029411,18.1534566 30.2816616,18.2114313 C30.2613073,18.2694061 30.2233742,18.3770735 30.1983939,18.4506922 C30.0762681,18.8059025 30.0531382,18.8703189 30.047587,18.8795212 C30.0448114,18.8850426 30.0374099,18.9052878 30.0327839,18.9255329 C30.0226067,18.965103 29.962469,19.1436284 29.9485911,19.1730759 C29.9439651,19.1831985 29.9365635,19.2062043 29.9310123,19.2236888 C29.9263864,19.2411732 29.9051068,19.3037491 29.8838273,19.3617239 C29.863473,19.4196986 29.82554,19.527366 29.8005597,19.6009847 C29.7755794,19.6746034 29.7293196,19.8071171 29.6987882,19.8954596 C29.5905402,20.2064987 29.5498316,20.3242887 29.504497,20.4568024 C29.4795167,20.5304211 29.4332569,20.6629348 29.4027255,20.7512772 C29.372194,20.8396197 29.334261,20.9500478 29.3194578,20.9951393 C29.3037295,21.041151 29.287076,21.0862424 29.28245,21.096365 C29.277824,21.1064876 29.2704225,21.1294934 29.2648713,21.1469779 C29.2602453,21.1644623 29.2389658,21.2270382 29.2176863,21.285013 C29.1964068,21.3429877 29.1751273,21.4055636 29.1705013,21.4230481 C29.1649501,21.4405325 29.1575486,21.4635384 29.1529226,21.4736609 C29.1482966,21.4837835 29.1297927,21.5353166 29.1112888,21.5886902 C29.0937101,21.6420638 29.051151,21.7644549 29.0187692,21.8601592 C28.9854621,21.9567838 28.9438283,22.0782547 28.9262496,22.1316283 C28.9077457,22.1850019 28.8892418,22.236535 28.8846158,22.2466575 C28.8799898,22.2567801 28.8725882,22.279786 28.8670371,22.2972704 C28.8624111,22.3147548 28.8411316,22.3773308 28.8198521,22.4353055 C28.7985726,22.4932802 28.7772931,22.5558562 28.7726671,22.5733406 C28.7671159,22.5908251 28.7597143,22.6138309 28.7550884,22.6239535 C28.7504624,22.6340761 28.7338088,22.6800878 28.7180805,22.7251792 C28.7032774,22.7711909 28.6653444,22.8806988 28.6348129,22.9690412 C28.6033562,23.0573837 28.569124,23.1613701 28.5570964,23.1990997 C28.5450689,23.2368293 28.5247146,23.2994053 28.5108366,23.3371348 C28.4969587,23.3748644 28.465502,23.4659676 28.4405217,23.5395863 C28.4155415,23.6132051 28.3776084,23.7208724 28.3572541,23.7788472 C28.3359746,23.8368219 28.3146951,23.8993978 28.3100691,23.9168823 C28.304518,23.9343667 28.2971164,23.9573726 28.2924904,23.9674952 C28.2878644,23.9776177 28.2712109,24.0236294 28.2554826,24.0687209 C28.2406794,24.1147326 28.2027464,24.2242404 28.1722149,24.3125829 C28.1407583,24.4009254 28.1120772,24.4865071 28.1074512,24.5012309 C28.1028252,24.5168749 28.0796954,24.5831317 28.0565655,24.6484683 C28.0334356,24.7147252 28.0103057,24.780982 28.0056797,24.7957058 C28.0010537,24.8113498 27.9806994,24.871165 27.9594199,24.9291397 C27.9381404,24.9871145 27.9168609,25.0496904 27.9122349,25.0671748 C27.9066837,25.0846593 27.8992822,25.1076651 27.8946562,25.1177877 C27.8900302,25.1279103 27.8733767,25.173922 27.8576483,25.2190134 C27.8428452,25.2650251 27.8058374,25.3726925 27.7762311,25.4582743 C27.7466248,25.5447763 27.7022154,25.6726888 27.6781603,25.7435468 C27.6541052,25.8144048 27.6309753,25.8806617 27.6263494,25.8907843 C27.6161722,25.9119496 27.530129,26.165014 27.5106999,26.2266697 C27.5042235,26.2496755 27.4810936,26.3159324 27.4598141,26.3739071 C27.4394598,26.4318819 27.4015268,26.5395493 27.3765465,26.613168 C27.3164087,26.7870922 27.2322159,27.0281935 27.2257395,27.045678 C27.2220388,27.0530398 27.2072356,27.0972111 27.1924325,27.1423025 C27.1767042,27.1883142 27.1387711,27.2978221 27.1082397,27.3861646 C27.076783,27.474507 27.0481019,27.5600888 27.043476,27.5748125 C27.0351492,27.6033398 26.9518816,27.8435209 26.8917438,28.0119237 C26.8732399,28.0652973 26.8519604,28.1269529 26.8445588,28.1499588 C26.8380825,28.1729646 26.8149526,28.2392215 26.7936731,28.2971962 C26.7733188,28.355171 26.7353857,28.4628384 26.7104054,28.5364571 C26.6854251,28.6100758 26.6391653,28.7425895 26.6086339,28.830932 C26.5771772,28.9192744 26.5484961,29.0048562 26.5438702,29.0195799 C26.5392442,29.0352239 26.5188899,29.0950391 26.4976104,29.1530139 C26.4763309,29.2109886 26.4541262,29.2772455 26.4467246,29.3002513 C26.439323,29.3232572 26.4171183,29.389514 26.3958388,29.4474888 C26.3754845,29.5054635 26.3375515,29.6131309 26.3125712,29.6867496 C26.2875909,29.7603683 26.2496579,29.8680357 26.2293036,29.9260105 C26.2089493,29.9839852 26.1885949,30.0465611 26.1830438,30.0640456 C26.1737918,30.1017752 26.1118037,30.2812208 26.0997761,30.3079076 C26.0525911,30.4128143 26.0192841,30.5002365 25.9424928,30.7266141 C25.9175125,30.8002328 25.8712528,30.9327465 25.8407213,31.0210889 C25.8092646,31.1094314 25.7722568,31.2170988 25.7574537,31.2603498 C25.7426505,31.3036008 25.6991663,31.4296729 25.6603081,31.5410212 C25.6214499,31.6523695 25.5761153,31.7848832 25.5585365,31.8354961 C25.5409578,31.8861089 25.4956232,32.0186226 25.456765,32.1299709 C25.3753478,32.3646306 25.2846786,32.6397806 25.2624739,32.7189207 C25.2448951,32.7814966 25.2134385,32.8753605 25.2014109,32.9029675 C25.1967849,32.9130901 25.1745802,32.9775065 25.1514504,33.0456038 C25.1283205,33.1137011 25.0848362,33.2425339 25.0543048,33.3308763 C25.0237733,33.4192188 24.9775135,33.5517325 24.9525332,33.6253512 C24.9275529,33.69897 24.8896199,33.8066373 24.8692656,33.8646121 C24.8479861,33.9225868 24.8267066,33.9851627 24.8220806,34.0026472 C24.8165294,34.0201316 24.8091279,34.0431375 24.8045019,34.0532601 C24.7998759,34.0633826 24.7832224,34.1093943 24.7674941,34.1544858 C24.7526909,34.2004975 24.7147579,34.3100054 24.6842264,34.3983478 C24.6527698,34.4866903 24.6240887,34.572272 24.6194627,34.5869958 C24.6055848,34.6320873 24.545447,34.8060115 24.5361951,34.8262566 C24.5315691,34.8363792 24.5241675,34.8593851 24.5186164,34.8768695 C24.5139904,34.894354 24.4927109,34.9569299 24.4714314,35.0149046 C24.4501519,35.0728794 24.4288724,35.1354553 24.4242464,35.1529397 C24.4186952,35.1704242 24.4112936,35.19343 24.4066677,35.2035526 C24.4020417,35.2136752 24.3853882,35.2596869 24.3696598,35.3047783 C24.3548567,35.35079 24.3169237,35.4602979 24.2863922,35.5486403 C24.2558607,35.6369828 24.2114513,35.7658156 24.1892466,35.8339129 C24.1661167,35.9020102 24.1429868,35.9655064 24.1383608,35.9737885 C24.1337349,35.9829908 24.1254081,36.0050764 24.1207821,36.0244013 C24.1161561,36.0437263 24.0948766,36.1072224 24.0735971,36.1651971 C24.0523176,36.2231719 24.0301129,36.2894287 24.0227114,36.3124346 C24.0153098,36.3354404 23.9931051,36.4016973 23.9718256,36.459672 C23.9348178,36.5636585 23.8524753,36.8019991 23.8256446,36.8829797 C23.8182431,36.9059855 23.8025147,36.9538377 23.789562,36.9888066 C23.7701329,37.0467813 23.7099951,37.2207056 23.6156252,37.4995365 C23.5971212,37.5529101 23.5786173,37.6044432 23.5739914,37.6145657 C23.5693654,37.6246883 23.5619638,37.6476942 23.5564126,37.6651786 C23.5517867,37.682663 23.5305071,37.745239 23.5092276,37.8032137 C23.4879481,37.8611884 23.4666686,37.9237644 23.4620426,37.9412488 C23.4564915,37.9587333 23.4490899,37.9817391 23.4444639,37.9918617 C23.4398379,38.0019843 23.4231844,38.047996 23.4074561,38.0930874 C23.392653,38.1390991 23.3547199,38.248607 23.3241885,38.3369494 C23.293657,38.4252919 23.2492476,38.5541247 23.2261177,38.622222 C23.203913,38.6903193 23.1807831,38.7547357 23.1761571,38.7648583 C23.1715311,38.7749808 23.1641296,38.7979867 23.1585784,38.8154711 C23.1539524,38.8329556 23.1326729,38.8955315 23.1113934,38.9535062 C23.0901139,39.011481 23.0688344,39.0740569 23.0642084,39.0915413 C23.0586572,39.1090258 23.0512557,39.1320316 23.0466297,39.1421542 C23.0420037,39.1522768 23.0253502,39.1982885 23.0096219,39.24338 C22.9948187,39.2893917 22.9578109,39.397059 22.9282046,39.4826408 C22.8985984,39.5691428 22.8541889,39.6970553 22.8301339,39.7679133 C22.8060788,39.8387714 22.7829489,39.9050282 22.7783229,39.9151508 C22.7736969,39.9252734 22.750567,39.9896897 22.7274371,40.0577871 C22.7043072,40.1258844 22.660823,40.2547171 22.6302915,40.3430596 C22.5997601,40.4314021 22.5535003,40.5639158 22.52852,40.6375345 C22.5035397,40.7111532 22.4656067,40.8188206 22.4452524,40.8767953 C22.4239729,40.9347701 22.4026934,40.997346 22.3980674,41.0148304 C22.3925162,41.0323149 22.3851146,41.0553207 22.3804887,41.0654433 C22.3758627,41.0755659 22.3592091,41.1215776 22.3434808,41.1666691 C22.3286777,41.2126808 22.2907446,41.3221886 22.2602132,41.4105311 C22.2287565,41.4988735 22.2000755,41.5844553 22.1954495,41.5991791 C22.1806463,41.6470312 22.1214338,41.819115 22.1121818,41.8384399 C22.1075559,41.8485625 22.1001543,41.8715683 22.0946031,41.8890528 C22.0899771,41.9065372 22.0686976,41.9691131 22.0474181,42.0270879 C22.0261386,42.0850626 22.0048591,42.1476385 22.0002331,42.165123 C21.994682,42.1826074 21.9872804,42.2056133 21.9826544,42.2157359 C21.9780284,42.2258584 21.9613749,42.2718701 21.9456466,42.3169616 C21.9308434,42.3629733 21.8938356,42.4706407 21.8642293,42.5562224 C21.8346231,42.6427244 21.7902137,42.770637 21.7661586,42.841495 C21.7421035,42.912353 21.7189736,42.9786099 21.7143476,42.9887324 C21.7097216,42.998855 21.6865917,43.0632714 21.664387,43.1313687 C21.6412571,43.199466 21.5968477,43.3282988 21.5663163,43.4166413 C21.5357848,43.5049837 21.4756471,43.6816687 21.4321629,43.8077407 C21.3414937,44.0736883 21.2286198,44.4022119 21.1814348,44.5347256 C21.1638561,44.5853385 21.1435017,44.6451537 21.1361002,44.6681595 C21.1296238,44.6911654 21.1064939,44.7574222 21.0852144,44.815397 C21.0648601,44.8733717 21.0269271,44.9810391 21.0019468,45.0546578 C20.9769665,45.1282765 20.9307067,45.2607902 20.9001752,45.3491327 C20.8696438,45.4374752 20.8252344,45.5663079 20.8021045,45.6344052 C20.7798998,45.7025026 20.7567699,45.7669189 20.7521439,45.7770415 C20.7475179,45.7871641 20.7401163,45.8101699 20.7345652,45.8276544 C20.7299392,45.8451388 20.7086597,45.9077148 20.6873802,45.9656895 C20.6670259,46.0236642 20.6290928,46.1313316 20.6041125,46.2049503 C20.5791322,46.2785691 20.5411992,46.3862364 20.5208449,46.4442112 C20.4995654,46.5021859 20.4773607,46.5684428 20.4699591,46.5914486 C20.4625576,46.6144545 20.4403529,46.6807113 20.4190734,46.7386861 C20.3977939,46.7966608 20.3765143,46.8592367 20.3718884,46.8767212 C20.3663372,46.8942056 20.3570852,46.9218126 20.3496837,46.9365364 C20.3432073,46.9521804 20.3348805,46.9770267 20.3311797,46.9935909 C20.3284042,47.0101551 20.318227,47.0322407 20.308975,47.0442038 C20.2997231,47.0561668 20.2682664,47.1362272 20.2386602,47.2218089 C20.2090539,47.3083109 20.1600185,47.4491067 20.1304122,47.5346885 C20.100806,47.6211905 20.0554714,47.7509435 20.0304911,47.8245622 C19.9786801,47.9736401 19.9518494,48.0509398 19.8500779,48.3444945 C19.8112197,48.4558428 19.7584835,48.6095218 19.7335032,48.684981 C19.7075977,48.7613605 19.6816922,48.8285375 19.6761411,48.834059 C19.6668891,48.8432613 19.420787,48.846022 18.5557288,48.8478625 L17.4473441,48.8506232 L17.4380922,48.8276173 Z M16.2177588,39.6298782 C16.2325619,39.5838665 16.2852981,39.4311077 16.3343335,39.2893917 C16.4176011,39.0464499 16.4472074,38.9617883 16.5665577,38.6130196 C16.5933883,38.5347998 16.6405733,38.3976849 16.6711048,38.3093424 C16.7025615,38.221 16.7460457,38.0949279 16.7691756,38.028671 C16.7913803,37.9633344 16.8431912,37.8114958 16.884825,37.6927856 C16.9264589,37.5740754 16.9801202,37.4167154 17.0051005,37.3430967 C17.0300808,37.269478 17.0818918,37.1185596 17.1198248,37.0072113 C17.158683,36.895863 17.2169704,36.7265399 17.2493522,36.6299153 C17.2826593,36.534211 17.3326199,36.3869735 17.3622261,36.3032322 C17.4408678,36.0750142 17.5833479,35.6627494 17.6342337,35.511831 C17.659214,35.4382123 17.711025,35.2872939 17.7498832,35.1759456 C17.7887414,35.0645973 17.8405524,34.9136789 17.8655327,34.8400601 C17.890513,34.7664414 17.9506507,34.5906767 17.9996861,34.4489607 C18.1097844,34.1314799 18.1264379,34.0817873 18.20693,33.8462074 C18.2420874,33.742221 18.3050007,33.5600146 18.3466346,33.4413044 C18.3882684,33.3225942 18.4400793,33.1716759 18.462284,33.105419 C18.4844887,33.0400824 18.5362997,32.8882438 18.5779335,32.7695336 C18.6195673,32.6508234 18.6713783,32.499905 18.693583,32.4336482 C18.7157877,32.3683116 18.7675987,32.2164729 18.8092325,32.0977628 C18.8499411,31.9790526 18.9045277,31.8216925 18.929508,31.7480738 C18.9729922,31.6201613 19.0599606,31.3689374 19.1617321,31.0717018 C19.1885628,30.9962426 19.232047,30.8692503 19.2588777,30.7910304 C19.2857084,30.7128106 19.3393698,30.557291 19.3773028,30.4459427 C19.416161,30.3345944 19.467972,30.183676 19.4938775,30.1100573 C19.5188578,30.0364385 19.5789955,29.8606738 19.6280309,29.7189578 C19.6770663,29.5772418 19.7288772,29.4263234 19.7436804,29.3830724 C19.7769874,29.2864478 19.9379715,28.8180487 19.9749793,28.7113015 C19.9897825,28.6680505 20.0277155,28.5603832 20.058247,28.4720407 C20.0897036,28.3836982 20.1183847,28.2990367 20.1230107,28.2833927 C20.1267115,28.268669 20.1535421,28.1895289 20.1822232,28.1085483 C20.2682664,27.8600851 20.3811403,27.5352425 20.4236993,27.4091704 C20.445904,27.3438338 20.497715,27.1919952 20.5393488,27.073285 C20.5809826,26.9545748 20.634644,26.7972148 20.6596243,26.7235961 C20.6846046,26.6499773 20.7364155,26.499059 20.7752738,26.3877106 C20.814132,26.2763623 20.8668682,26.1236035 20.8927737,26.047224 C20.9186791,25.9717649 20.960313,25.8512142 20.984368,25.7803562 C21.0084231,25.7094982 21.0620845,25.5539786 21.1037183,25.4352684 C21.1444269,25.3165582 21.1990135,25.1591982 21.2239938,25.0855795 C21.2489741,25.0119608 21.300785,24.8610424 21.3396433,24.7496941 C21.3785015,24.6383458 21.4201353,24.5159546 21.4312377,24.478225 C21.4552928,24.4036861 21.4552928,24.4018456 21.5663163,24.0825244 C21.6468083,23.8497052 21.6606862,23.8092149 21.7596822,23.5211817 C21.7948397,23.4171952 21.8512766,23.255234 21.8836585,23.1604499 L21.9437962,22.9892864 L20.3163766,17.8368961 C19.4217122,15.0034955 18.6861815,12.6780641 18.6824807,12.6688618 C18.6769295,12.657819 18.6482484,12.7378794 18.5881107,12.9311285 C18.5400005,13.0848076 18.4752368,13.2927805 18.4428549,13.3940062 C18.4113983,13.495232 18.3161031,13.7998294 18.2309851,14.0703782 C18.1467922,14.340927 18.0487215,14.6538066 18.013564,14.7651549 C17.9182689,15.0679119 17.6379345,15.9651401 17.3983088,16.7298546 C17.2502774,17.2037751 17.1188996,17.6215613 16.9357108,18.2068302 C16.8885258,18.3586688 16.7904551,18.6715483 16.7182898,18.9016069 C16.6461245,19.1316654 16.5610065,19.4031344 16.5286246,19.5043601 C16.4962428,19.6055859 16.4638609,19.7095723 16.4564593,19.7344186 C16.4481326,19.7601852 16.4129751,19.873374 16.3778177,19.987483 C16.3417351,20.101592 16.275121,20.3169268 16.227936,20.4660047 C16.1455935,20.7291916 15.987385,21.2344001 15.8578576,21.6485054 C15.8227002,21.7598537 15.7542357,21.9779492 15.7061255,22.134389 C15.6570901,22.2899085 15.5784484,22.5420527 15.5303383,22.6957317 C15.4822281,22.8484906 15.3924841,23.1356036 15.3304959,23.3325337 C15.2685078,23.530384 15.1898662,23.7825281 15.1547087,23.8938764 C15.1195513,24.0052247 15.0409096,24.2582891 14.9789215,24.4552192 C14.9169334,24.6530695 14.8271894,24.9383421 14.7800044,25.0901807 C14.7328194,25.2420193 14.6430754,25.5282121 14.5810873,25.7251421 C14.5190991,25.9229925 14.4293551,26.208265 14.3821702,26.3601036 C14.3349852,26.5119422 14.2267372,26.8579502 14.1416192,27.128499 C14.0565012,27.3990478 13.9482533,27.7450558 13.9010683,27.8968944 C13.6827221,28.5944318 13.5855765,28.9054709 13.526364,29.0931987 C13.4912065,29.204547 13.3931357,29.5174266 13.3089429,29.7879754 C13.2238249,30.0585242 13.1303801,30.3585205 13.0998486,30.4542248 C13.0702424,30.5499291 13.0452621,30.6336704 13.0452621,30.6401121 C13.0452621,30.6493144 16.1400424,39.6105533 16.1733494,39.6979756 C16.1779754,39.7099386 16.1835266,39.7182207 16.1863021,39.7166363 C16.1881525,39.7145398 16.2020305,39.6749697 16.2177588,39.6298782 Z\" id=\"Shape\"></path>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</g>\n\t\t\t\t</svg>\n\t\t\t\t<animated.div className=\"scroll-indicator\" style={scrollIndicatorAnimate} />\n\t\t\t\t{/* <animated.div className=\"scroll-indicator\" style={subscribeIndicatorAnimate} /> */}\n\t\t\t</div>\n\t\t\t<DesktopText chapterIndex={chapterIndex} setChapterIndex={setChapterIndex} wheelThreshold={wheelThreshold.current} setBackgroundColor={setBackgroundColor} setButtonShadow={setButtonShadow} setOrbMovingState={setOrbMovingState} subscribeActive={subscribeActive} />\n\t\t\t<animated.div className=\"SubscribeButton\" style={subscribeButtonProps}>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => setSubscribeActive(() => true)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tboxShadow: buttonShadow\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tSUBSCRIBE\n\t\t\t\t</button>\n\t\t\t</animated.div>\n\t\t\t<div className=\"SocialMedia\">\n\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.snapchat.com/add/theandymag\"><img src=\"../assets/snapchat.svg\" alt=\"Snapchat\" /></a>\t\t\t\n\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.instagram.com/theandymag/\"><img src=\"../assets/instagram.svg\" alt=\"Instagram\" /></a>\t\t\t\n\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://twitter.com/theandymag_\"><img src=\"../assets/twitter.svg\" alt=\"Twitter\" /></a>\n\t\t\t</div>\n\t\t\t<DesktopInstructions instructionPosition={instructionPosition} instructionActive={instructionActive} orbHold={orbHold}/>\n\t\t\t<Email orbHold={orbHold} emailActive={emailActive} />\n\t\t</div>\n\t)\n}","import React, {\n\t// useEffect,\n\t// useState, \n\t// useCallback, \n\t// useRef\n\tuseContext,\n} from 'react';\n\nimport './styles/base.sass'\nimport { MobileApp } from './Components/MobileApp'\nimport { DesktopApp } from './Components/DesktopApp'\nimport { ViewportContext } from './context/viewportContext';\n\nfunction App() {\n\t// let [isMobile, setIsMobile] = useState<Boolean>(window.innerWidth <= 900);\n\t// need to wrap this in context\n\t// let [height, setHeight] = useState<number>(window.innerHeight);\n\t// let [width, setWidth] = useState<number>(window.innerWidth);\n\t// const appHeight = () => document.documentElement.style.setProperty('--app-height', `${window.innerHeight}px`)\n\t\n\t// const windowResizeHandler = useCallback(() => {\n\t// \t// const viewport = document.querySelector(\"meta[name=viewport]\");\n\t// \t// const height = window.innerHeight;\n\t// \t// const width = window.innerWidth;\n\t// \t// viewport && viewport.setAttribute(\"content\", \"height=\" + height + \"px, width=\" + width + \"px, initial-scale=1.0\");\n\t// \t// setHeight(() => window.innerHeight)\n\t// \t// setWidth(() => window.innerWidth);\n\t// \twindow.innerWidth <= 900 ? setIsMobile(true) : setIsMobile(false);\n\t// }, [])\n\n\n\t// useEffect(() => {\n\t// \twindow.addEventListener('resize', windowResizeHandler)\n\t// \t// window.addEventListener('resize', appHeight)\n\t// }, [windowResizeHandler]);\n\n\t// useEffect(() => {\n\t// \tappHeight()\n\t// }, [])\n\n\t// useEffect(() => {\n\t// \tif (viewport.current) {\n\t// \t\tviewport.current.setAttribute(\"content\", \"height=\" + height + \"px, width=\" + width + \"px, initial-scale=1.0\");\n\t// \t}\n\t// }, [height, width])\n\tconst { isMobile } = useContext(ViewportContext)\n\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t{\n\t\t\t\t\tisMobile ? <MobileApp /> : <DesktopApp />\n\t\t\t\t}\n\t\t\t</div>\t\t\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { FunctionComponent } from 'react';\n\nimport { ViewportContextWrapper } from './viewportContext';\n\nexport const Store: FunctionComponent = (props) => {\n\treturn (\n\t\t<ViewportContextWrapper>\n\t\t\t{ props.children }\n\t\t</ViewportContextWrapper>\n\t)\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { Store } from './context/index';\n\nReactDOM.render(\n  <React.StrictMode>\n\t<Store>\n    \t<App />\n\t</Store>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}